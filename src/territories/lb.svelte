<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#lb)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="lb" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 750 500"
					><path fill="#ed1c24" d="M0 0h750v500H0z" /><path
						fill="#fff"
						d="M0 125h750v250H0z"
					/><path
						fill="#00a651"
						d="M371.59 125c-5.367 11.3-15.473 19.198-25.132 26.672-1.589 1.387-5.54 4.075-2.673 6.12 2.455-2.744 9.195.89 5.278 3.841-3.509 3.285-8.34 4.487-12.236 7.197-3.45 1.874-6.949 3.832-9.685 6.701-.186 4.482 5.562 2.001 7.894 3.869 3.038 3.247-1.288 8.721-5.274 7.47-5.097.155-8.618 4.64-10.545 8.92-3.987 6.165-11.543 7.99-17.557 11.499-3.442 2.006-6.781 4.226-9.985 6.567-4.131 2.824-.537 8.416 3.858 7.044 4.744-.473 9.013-4.201 13.925-3.127 4.455 1.565 5.705 7.387 4.187 11.452-1.124 3.254-3.85 5.547-6.032 8.089-3.545 3.59-8.18 5.921-13.067 7.033-4.723 1.585-8.968 4.479-12.066 8.385-3.596 3.62-7.178 7.299-11.31 10.317-1.306 3.332 2.378 6.17 5.45 6.08 6.472-.407 10.958-5.704 16.47-8.426 4.575-2.056 9.958 2.874 8.84 7.64-.355 4.636-4.696 6.989-8.555 8.415-11.346 5.704-21.197 13.975-29.944 23.1-1.81 3.69-6.783 2.605-9.46 5.177-1.745 3.255 2.633 4.972 5.245 4.637 11.225-1.35 21.7-6.094 31.622-11.315 3.69-1.764 7.155-4.086 10.992-5.492 3.603-.89 8.628.677 9.273 4.778-.005 4.33-4.294 6.727-7.691 8.419-10.475 5.503-21.971 8.546-33.168 12.184-4.191-1.172-7.349 6.285-2.75 7.626 4.861 1.668 10.03.33 15.004.112 15.378-2.356 28.828-10.677 43.204-16.057 5.976-1.948 13.03.77 15.98 6.37 2.963 4.992 2.692 11.556-.434 16.406-4.94 10.568-12.45 20.282-22.531 26.358-6.329 3.133-13.716 4.332-19.14 9.129-5.016 1.653 2.515 8.431 3.604 3.052 3.014-4.111 8.33-5.34 13.153-5.51 7.247-.789 14.943-2.126 20.574-7.143 5.049-3.92 10.024-9.328 16.879-9.413 3.788.45 7.535 3.494 11.383 1.636 3.366-1.54 8.648-.638 9.527 3.502 1.607 4.842 6.598 7.045 10.556 9.636 1.433 2.012 6.193 7.2 7.29 2.626-.885-3.263.38-8.255 4.66-7.165 3.739.167 7.301 1.546 11.033 1.772 4.969 1.029 9.113 4.43 11.935 8.538 1.94 2.68 6.192 7.286 9.351 3.732 1.96-3.676-1.781-6.742-4.828-8.055-4.442-2.752-8.24-6.418-12.123-9.89-5.724-5.345-10.669-12.145-11.577-20.132-1.232-7.963-.584-16.085.455-24.027 1.308-5.113 7.847-7.904 12.418-5.187 6.433 2.935 12.821 7.135 20.196 6.68 10.657.229 21.608-1.812 32.022 1.277 10.135 3.192 17.38 11.744 27.253 15.445 2.21 1.343 5.037.065 5.847-2.295.978-2.121.288-4.835-1.756-6.044-11.441-11.549-27.078-17.16-40.315-26.184-4.168-1.058-4.927-7.763-1.074-9.7 5.065-3.68 12.232-1.967 16.726 1.829 3.795 2.223 8.07 3.888 12.523 3.892 4.561-1.428 2.35-8.027-1.734-8.524-7.399-4.177-12.698-11.033-19.109-16.466-3.69-3.125-7.73-6.29-12.69-6.896-2.711-.493-5.485-.601-8.232-.417-2.576-2.8.857-7.087 4.188-6.736 3.419.23 6.818.484 10.232.008 3.815-.28 7.627-.674 11.455-.7 3.091 2.104 9.267-1.531 6.478-5.16-3.047-2.67-7.454-2.438-11.095-3.808a171.078 171.078 0 0 0-19.497-5.125c-4.612-.275-4.043-6.344.01-7.014 2.652-.989 4.958 1.049 7.504 1.365 4.348.934 8.838.922 13.184 1.87 3.685-1.82.836-7.203-2.497-7.517-7.866-2.813-14.663-7.889-21.308-12.827-7.337-5.518-13.993-11.899-21.42-17.289-2.694-1.67-7.111-2.15-7.82-5.851-.25-3.405 3.757-4.955 6.598-4.16 4.03 1.19 7.786 3.263 11.894 4.281 3.223.548 6.545 1.501 9.652 1.095 3.943-2.477-1.691-4.06-3.73-4.92-5.258-2.836-9.93-6.614-14.66-10.216-4-3.413 3.39-4.92 5.932-3.607 4.25 1.778 4.734-4.415 1.558-5.973-3.743-1.592-6.962-4.234-10.356-6.538-6.133-4.365-13.079-7.821-20.618-8.781-8.452-.85-16.34-5.71-20.825-12.938-2.78-4.119-4.82-8.674-6.794-13.218zm-27.758 47.418c4.356.129 3.687 7.98-.602 7.456-4.165-.268-3.91-8.3.602-7.456zm41.09 4.228c4.24-.759 5.137 6.977.902 7.34-4.413.79-6.048-7.83-.902-7.34zm-12.035 1.008c4.298.845 3.533 8.332-.804 8.397-3.173.707-6.593 2.872-9.803 1.25-2.61-2.762 1.163-6.845 4.077-7.742 2.235-.45 4.291-1.466 6.53-1.905zm27.699.032c4.14 1.511 2.68 8.822-1.688 8.729-4.13.553-6.054-6.338-2.202-7.972 1.247-.442 2.553-.815 3.89-.757zm-46.725 8.294c3.045 2.898 1.247 8.49-2.508 9.827-2.706 1.506-6.396 5.067-9.344 2.137-1.6-3.58 2.415-6.275 4.777-8.261 2.107-1.639 4.433-3.126 7.075-3.703zm34.778 16.163c4.36 2.059 2.147 9.916-2.638 9.428-3.93-.996-3.417-7.737.541-8.274.749-.287 1.435-.708 2.097-1.154zm-13.834.78c4.077 1.91.964 8.715-3.143 7.734-4.259-.5-4.18-7.987.516-7.31.885-.045 1.799-.067 2.627-.423zm29.822 3.903c4.469-1.386 9.85 3.218 8.4 7.887-1.992 3.62-6.918 4.078-10.446 2.725-4.051-.2-6.776-6.29-3.167-8.87 1.494-1.127 3.376-1.59 5.213-1.742zm-66.016 1.171c3.695-2.01 7.619 4.032 4.476 6.698-2.081 3.06-7.427 4.31-9.784.907-1.958-3.324 1.208-8.909 5.308-7.605zm-17.05 2.862c4.192.574 6.924 4.381 8.473 8.007.378 4.418-6.141 6.842-8.985 3.627-3.198-2.006-5.997-6.132-4.32-9.96 1.032-1.521 3.09-2.149 4.832-1.674zm102.003 15.969c4.55-1.2 7.853 6.071 3.946 8.702-3.572 3.244-10.516-1.054-8.654-5.683.926-1.716 2.778-2.857 4.708-3.02zm-57.904 8.293c3.815.486 2.58 7.097-.948 6.875-3.786-.701-2.919-7.248.948-6.875zm-19.35 3.512c3.111-2.201 7.124 3.172 4.536 5.676-3.102 2.185-7.126-3.103-4.536-5.676zm30.766.65c3.606 2.192 5.747 6.278 6.196 10.4-1.729 3.853-8.403 2.924-9.156-1.178-1.32-3.244-.103-7.417 2.96-9.221zm10.737 6.375c4.648-1.167 2.98 8.547-.9 5.177-1.29-1.53-.6-4.05.9-5.177zm-67.432 6.765c3.078-.901 7.564.046 8.413 3.578.359 3.32-3.291 5.046-5.966 5.869-4.287 1.322-8.48 3.494-13.09 3.202-3.454-1.975-4.695-6.016-5.927-9.541 3.335-3.127 8.245-2.21 12.38-2.992a95.993 95.993 0 0 1 4.19-.116zm104.6 15.22c3.925-1.924 8.146 4.307 4.86 7.217-4.11 4.732-12.025 5.61-16.94 1.636-.591-4.187 3.591-7.228 7.307-7.83 1.563-.44 3.116-1.1 4.772-1.023zm22.063 4.781c4.46-.767 7.974 5.596 4.789 8.889-3.015 4.545-10.204 5.737-14.314 2.011-1.602-3.768 1.648-7.695 5.108-8.904 1.487-.633 2.895-1.444 4.417-1.996zm-110.94 6.765c4.13-.408 7.914 3.69 7.372 7.763 2.99 2.942-2.305 8.424-5.284 5.377-2.625-3.18-2.611-7.496-3.628-11.303-.045-.846.58-1.94 1.54-1.837zm31.71 2.374c4.27-1.846 9.795 3.263 7.47 7.588-1.66 3.522-8.136 2.341-7.92-1.739-.012-1.952-.17-3.953.45-5.849zm-15.428 2.764c4.282-.981 8.21 4.57 5.831 8.273-4.269.38-6.485-4.687-5.83-8.273z"
					/></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M747.4 1.7c-2.7 1.3-3.3 2.4-4.3 7.1-.6 3-1.2 8.7-1.2 12.6-.2 12.7-.3 12.8-8.8 14.5-7 1.3-7.8 1.3-15.1-.8-6.1-1.8-8.2-2-9.9-1.2-1.1.6-3.2.9-4.5.5-1.5-.4-3.6.1-5.4 1.2-2.9 1.7-3.1 1.7-7.7-1-4.6-2.8-4.7-2.8-13.1-1.6-7.2 1-8.8 1-10.7-.3-2.2-1.4-7.4-1.9-22.4-1.9-2.9 0-7.5.8-10.3 1.7-4.2 1.4-7.8 1.6-19.3 1.3-16-.6-25.1-2.8-32.4-7.9-3.2-2.3-5.2-2.9-9.2-2.9-4.4 0-5.1.3-5.1 1.9 0 1.1 2.1 8.6 4.8 16.8l4.7 14.8-.2 16c-.2 8.8-.8 19.1-1.4 22.8-1.1 6.7-1.2 7-5.6 9.5-2.5 1.5-7 4.7-10.1 7.1-3.2 2.3-7 5-8.7 5.8-1.6.9-6.5 4.7-10.8 8.5-10.4 9.1-13.8 11.3-22.7 14.3-6.6 2.3-9 2.5-20.5 2.5-7.1-.1-13.8.1-14.7.5-3.2 1.3-2.3 7.2 1.7 11.6 3.9 4.3 4 5.4 2.3 12.9-1.3 5.5-3.1 7.4-11.9 12-4.9 2.6-19.9 12.6-23.5 15.8-2.6 2.2-6.4 9.4-6.4 12.1 0 1-1.5 5.2-3.4 9.2-1.8 4.1-4.1 9.5-5 12.1-2 5.5-4.2 6.4-12.1 4.9-3.9-.7-5.6-.6-8 .6-3.8 2-4.5 3-4.5 7.3 0 2.7-1.2 5-5.1 9.9l-5.2 6.3 1.3 8.2c3 18.6 3 18.3-4.6 30.9-5.5 8.9-7.2 12.7-8.6 19.2-1.6 7.5-1.6 8.5-.1 16.7 1.3 6.7 2.1 8.9 3.5 9.4 1.5.4 1.8 1.6 1.8 6.1 0 4.9.4 6 3.5 9.4l3.5 3.9-2 5.1c-1.2 2.8-2.5 9.6-3 15-.9 9.2-1.3 10.4-6 18.7-4.4 7.8-5 9.5-5 14.6 0 5.6.2 6 5 11.3 3.5 3.9 5 6.3 5 8.3 0 2.5-.6 3-5 4.5-8.6 2.9-13.8 10.9-20.9 32.8-1.5 4.3-4.1 9.1-7.4 13.4-6.1 7.9-9.8 9.3-20.6 8.1-8.1-.9-29.8-1-32.8-.2-3.4.9-3.1 7 .7 13.7 3.4 6.1 3.7 9.5 2 28.7-1.7 19.5-3.5 26.5-8.8 33.9-6.8 9.5-9.1 16.1-9.2 25.1 0 9.3-3.9 22.1-7.8 25.4-4.7 4-5.2 4.8-5.2 8 0 7-2 14-4.9 17.1-6.6 7.1-8.6 13.1-11 32.7-.7 6.5-1.6 8.9-5.3 15-2.8 4.6-5.1 10.1-6.3 14.8-1.8 7.5-10.9 27-20.6 44-5.8 10.3-14.5 18-20.2 18-4.2 0-5.1 1-6.7 8-.7 3-3.2 10.1-5.6 15.8-6.6 15.2-11.6 33.7-12.1 45.2l-.5 9.5-8.7 17-8.6 17-4.9 1.3c-4.8 1.4-4.8 1.4-4.3 4.9.4 1.9 1.6 5.4 2.8 7.7 1.2 2.2 2.9 5.4 3.8 7.1 2.5 4.7 2 20.2-.8 28.7-3.1 9.2-9.9 18-14.9 19.1-5.1 1.1-9.1 6-9.2 11.3 0 9-.5 9.7-12.9 19.9-10.5 8.5-11.9 10.1-13.3 14.4l-1.5 4.9 6.1.5c3.3.4 13.8.9 23.1 1.3 9.4.4 19.3 1.3 22 2 4.5 1.2 5.1 1.1 6-.4.6-.9 2.3-2.9 3.8-4.4l2.9-2.8 5.1 2.6c4.7 2.4 5.7 2.6 13.1 1.9 4.3-.4 10.9-1.6 14.4-2.7 5.1-1.6 7.9-1.8 12.9-1.3l6.3.7v4.7c0 4.3.4 5.1 5 9.6 3.6 3.6 5 5.7 5 7.7v2.8h9.8c7.2 0 10.3-.4 12-1.6 1.5-1.1 5.6-1.7 13.3-2.1l11-.6 1.6-4c1.2-2.8 3.1-4.9 6.9-7.3l5.3-3.4h25l1-3.8c.5-2 1.3-5.5 1.8-7.7.7-3.3 1.4-4.1 4.2-4.9 4.3-1.2 6.7-6.2 8.2-17.2.6-4.3 1.7-9.4 2.5-11.3 1.9-4.5 1.8-17.5-.2-28.3l-1.6-8.8 2.7-4.7c1.5-2.7 3.6-7.2 4.6-10.1 1-3 3.2-7 4.9-8.9 3.7-4.1 5-7.2 5-11.6 0-5.1 1.1-5.9 4.7-3.7 2.7 1.6 3.2 2.6 3.8 7.4.7 5.2 1 5.7 5.4 8.5 4.2 2.6 10.7 5.1 13.8 5.1.8 0 1-1.6.6-5.2l-.5-5.3 6.4-3.4c5.8-3.1 7-3.4 12-2.8l5.5.7 5.1-6.4c4.5-5.6 5.8-6.6 10.5-8 6.3-1.8 7.2-2.7 8.1-8.1.5-2.4 2-5.3 3.9-7.2 2.9-3.1 3.6-3.3 9.6-3.3 6.2 0 7.3-.4 18.6-6.6 14.3-7.8 18.9-11.9 21.1-18.8 2.7-8.5 10.2-21.1 13.7-23.1 1.8-1 8.2-5.1 14.2-9.1 6.1-4 13.3-8.2 16.1-9.3 4-1.7 6.1-3.6 10.2-9.1 2.9-3.8 8.1-9.1 11.6-11.7 3.6-2.6 6.8-5.4 7.1-6.2.3-.8.8-4.7 1.2-8.7.5-6.9.4-7.6-2.1-10.8-2.7-3.6-3-5.2-2-10.5.5-2.5 1.1-3.1 3.3-3.1 1.4 0 5.4-.9 8.8-1.9 3.5-1.1 8.6-2.2 11.5-2.5 3.3-.4 8.8-2.4 14.5-5.3 8.2-4.2 9.4-5.2 10.8-8.6.9-2.2 3.4-6 5.5-8.6 3.3-3.9 4-5.5 4-8.9 0-3.6-.4-4.4-2.9-5.6-2.9-1.5-8.2-7.7-9.4-10.8-.3-1-2.2-1.9-4.9-2.3-2.4-.4-6.3-1.8-8.8-3-14.5-7.5-20.2-9.5-27.4-9.5-5.9 0-7.6-.4-10-2.4l-3-2.3 2.3-5.5c1.9-4.8 2.9-5.9 8-8.7 8.1-4.6 10.1-8.9 10.1-21.6V612l7.1-5.7c6.1-5 7.8-7.2 12.5-16.1l5.6-10.2h4.7c6.6 0 9.6-3.3 12.2-13.4 1.1-4.2 4-11.4 6.6-16.1l4.6-8.5 3.2 2c4.5 2.8 11.3 1.8 15.1-2.1 2.4-2.5 3.5-2.9 8.1-2.9 5.2 0 5.3 0 8.5-5 3.7-5.6 7.1-7.3 12.9-6.4 3.2.5 4.4 1.4 7 5.5 2.4 3.8 3.9 5.1 6.7 5.8 8 2 10.8 2.1 12.7.6 1.1-.8 2.9-1.5 4-1.5 1.3 0 3.1-1.8 5-4.8 1.7-2.6 4.5-5.4 6.3-6.4 3.2-1.5 3.7-1.5 8.5.2 2.9 1 7.8 3.2 11.1 4.9 3.2 1.7 6.3 3.1 7 3.1.6 0 5.2 1.6 10.1 3.6 7.5 3 10.7 3.6 19.1 4.1l10 .6 5.7-3.8 5.7-3.8v-13.5l-3.7-1.3c-2.1-.7-5.4-3-7.4-5.1-3.5-3.8-3.6-3.9-12.5-4.5-10.7-.7-13-2-14.5-8-1.1-4.2-1.5-4.5-8.5-7.8-4.1-1.8-7.7-4-8-4.8-.3-.9 1.1-3.6 3.2-6.4 2-2.6 6.5-10.7 10-17.8 7-14.7 10.8-19.4 27.6-34.9 6.7-6.2 11.2-11.2 12-13.2.9-2.6 1.8-3.4 4.2-3.6 3-.3 3.1-.5 3.4-5.6.3-5.5 1.1-6.1 5.7-4.3 1.5.6 3.2 0 6.5-2.4 4.4-3.2 4.6-3.3 8-1.8 2.6 1.1 6.2 1.4 14.3 1.1l10.8-.5 4.6-4.5 4.6-4.6-.2-6.9c-.2-8.3 1.7-13.5 7.8-20.8 2.2-2.7 4.1-5.7 4.1-6.5 0-1.6 8-5.8 15.1-8 3.2-.9 3.7-1.6 4.3-4.8.3-2 .6-4.8.6-6.2 0-2 1.1-3.1 5.7-5.5 5.7-3 5.8-3.1 10.1-13.1 4-9 4.8-10.3 7.6-11.1 2.6-.7 3.1-1.4 3.4-4.4.3-3.2-.2-4.1-4.9-8.3-2.8-2.5-5.5-4.6-6-4.6s-.9-.8-.9-1.8-2-5-4.5-9c-4.3-6.9-4.5-7.6-4.5-14.7 0-7.3.1-7.7 3.8-11.8 7.6-8.6 7.3-7.8 5.8-12.7l-1.3-4.5-9.6-2.9c-10.2-3.1-10.7-3.6-10.7-11.2 0-1.9-.7-2.6-3.1-3.1-3.6-.7-4.8-2.9-7.4-14.3l-1.8-7.5 6.2-12.4c7.6-15.1 7.6-16.5-.7-20.9-3.1-1.6-8.5-3.8-11.8-4.7-6.7-1.9-8.4-3.8-8.4-9.9 0-3.1-.5-3.5-10.4-9-9.8-5.6-10.4-6.1-12.5-11-1.1-2.8-2.8-7.4-3.6-10.2l-1.5-5.2-20.8-.4c-19.8-.4-20.8-.3-24.2 1.7-8.1 5-7.2 5.3-12.5-4.1-2.6-4.7-4.4-8.8-4.1-9.2.4-.4 8.2-5.2 17.4-10.8l16.7-10V68.3c0-12.9.2-14.4 2.1-17l2.1-2.8 5.4 5c5.7 5.3 11.4 8.4 12.8 6.9.8-1 6.1-20.2 6.1-22.3 0-1-2.1-1.1-8.9-.6-8.2.7-9.3.5-14.4-1.8-3-1.4-7.9-3.2-10.9-4.1-4.5-1.3-6.6-2.8-12.5-8.9-4.2-4.3-7.4-8.6-7.8-10.3-1.6-7.2-2.8-9.5-5.5-10.9-3.7-1.9-10.6-1.8-14.6.2z"
	/></svg
>
