<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#ar)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="ar" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					viewBox="0 0 800 500"
					><path fill="#74acdf" d="M0 0h800v500H0z" /><path
						fill="#fff"
						d="M0 166.67h800v166.67H0z"
					/><g id="c"
						><path
							id="a"
							stroke-width="1.112"
							stroke="#85340a"
							fill="#f6b40e"
							d="m396.84 251.31 28.454 61.992s.49 1.185 1.28.859c.79-.327.299-1.512.299-1.512l-23.715-63.956m-.68 24.12c-.347 9.428 5.452 14.613 4.694 23.032-.757 8.42 3.867 13.18 4.94 16.454 1.073 3.274-1.16 5.232-.198 5.698.963.466 3.07-2.12 2.383-6.775-.687-4.655-4.22-6.037-3.39-16.32.83-10.283-4.206-12.678-2.98-22.058"
						/><use xlink:href="#a" transform="rotate(22.5 400 250)" /><use
							xlink:href="#a"
							transform="rotate(45 400 250)"
						/><use xlink:href="#a" transform="rotate(67.5 400 250)" /><path
							id="b"
							fill="#85340a"
							d="M404.31 274.41c.453 9.054 5.587 13.063 4.579 21.314 2.213-6.525-3.124-11.583-2.82-21.22m-7.649-23.757 19.487 42.577-16.329-43.887"
						/><use xlink:href="#b" transform="rotate(22.5 400 250)" /><use
							xlink:href="#b"
							transform="rotate(45 400 250)"
						/><use xlink:href="#b" transform="rotate(67.5 400 250)" /></g
					><use xlink:href="#c" transform="rotate(90 400 250)" /><use
						xlink:href="#c"
						transform="rotate(180 400 250)"
					/><use xlink:href="#c" transform="rotate(270 400 250)" /><circle
						r="27.778"
						stroke="#85340a"
						cy="250"
						cx="400"
						stroke-width="1.5"
						fill="#f6b40e"
					/><path
						id="h"
						fill="#843511"
						d="M409.47 244.06c-1.897 0-3.713.822-4.781 2.531 2.136 1.923 6.856 2.132 10.062-.219a7.333 7.333 0 0 0-5.281-2.312zm-.031.438c1.846-.034 3.571.814 3.812 1.656-2.136 2.35-5.55 2.146-7.687.437.935-1.495 2.439-2.067 3.875-2.094z"
					/><use xlink:href="#d" transform="matrix(-1 0 0 1 800.25 0)" /><use
						xlink:href="#e"
						transform="matrix(-1 0 0 1 800.25 0)"
					/><use xlink:href="#f" transform="translate(18.862)" /><use
						xlink:href="#g"
						transform="matrix(-1 0 0 1 800.25 0)"
					/><path
						d="M395.75 253.84c-.913.167-1.563.977-1.563 1.906 0 1.062.878 1.906 1.938 1.906a1.89 1.89 0 0 0 1.563-.812c.739.556 1.764.615 2.312.625.084.002.193 0 .25 0 .548-.01 1.573-.069 2.313-.625.36.516.935.812 1.562.812 1.06 0 1.938-.844 1.938-1.906 0-.929-.65-1.74-1.563-1.906.513.18.844.676.844 1.219a1.28 1.28 0 0 1-1.281 1.281c-.68 0-1.242-.54-1.282-1.219-.208.417-1.034 1.655-2.656 1.719-1.622-.064-2.447-1.302-2.656-1.719-.04.679-.6 1.219-1.281 1.219a1.28 1.28 0 0 1-1.281-1.281c0-.542.33-1.038.843-1.219zm2.09 5.69c-2.138 0-2.983 1.937-4.906 3.219 1.068-.427 1.91-1.27 3.406-2.125 1.496-.855 2.772.187 3.625.187h.031c.853 0 2.13-1.041 3.625-.187 1.497.856 2.369 1.698 3.438 2.125-1.924-1.282-2.8-3.219-4.938-3.219-.426 0-1.271.23-2.125.656h-.031c-.853-.426-1.698-.656-2.125-.656z"
						fill="#85340a"
					/><path
						d="M397.12 262.06c-.844.037-1.96.207-3.563.688 3.848-.855 4.697.437 6.407.437h.03c1.71 0 2.56-1.292 6.407-.438-4.274-1.282-5.124-.437-6.406-.437h-.031c-.802 0-1.437-.312-2.844-.25z"
						fill="#85340a"
					/><path
						d="M393.75 262.72c-.248.003-.519.005-.813.031 4.488.428 2.331 3 7.032 3h.03c4.702 0 2.575-2.572 7.063-3-4.7-.426-3.214 2.344-7.062 2.344h-.031c-3.608 0-2.496-2.421-6.22-2.375zm10.1 6.94a3.848 3.848 0 0 0-3.846-3.846 3.848 3.848 0 0 0-3.847 3.846 3.955 3.955 0 0 1 3.847-3.04 3.952 3.952 0 0 1 3.846 3.04z"
						fill="#85340a"
					/><path
						id="e"
						fill="#85340a"
						d="M382.73 244.02c4.915-4.273 11.11-4.915 14.53-1.709.837 1.121 1.373 2.32 1.593 3.57.43 2.433-.33 5.062-2.236 7.756.215-.001.643.212.856.427 1.697-3.244 2.297-6.577 1.74-9.746a13.815 13.815 0 0 0-.67-2.436c-4.7-3.845-11.11-4.272-15.81 2.138z"
					/><path
						id="d"
						fill="#85340a"
						d="M390.42 242.74c2.777 0 3.419.642 4.7 1.71 1.284 1.068 1.924.854 2.137 1.068.213.215 0 .854-.426.64s-1.284-.64-2.564-1.708c-1.283-1.07-2.563-1.069-3.846-1.069-3.846 0-5.983 3.205-6.41 2.991-.426-.214 2.137-3.632 6.41-3.632z"
					/><use xlink:href="#h" transform="translate(-19.181)" /><circle
						id="f"
						cy="246.15"
						cx="390.54"
						r="1.923"
						fill="#85340a"
					/><path
						id="g"
						fill="#85340a"
						d="M385.29 247.44c3.633 2.778 7.265 2.564 9.402 1.282 2.136-1.282 2.136-1.709 1.71-1.709-.427 0-.853.427-2.564 1.281-1.71.856-4.273.856-8.546-.854z"
					/></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M439.1 7.9c-1.9 6.7-2.9 8.3-6.4 11.3-2.3 1.9-6.7 7.1-9.9 11.5l-5.6 8.1 2.6 3.7 2.6 3.6-5 15.2-5 15.2-14.3 7.5c-12.7 6.7-14.5 7.9-16.7 11.9-1.3 2.3-2.4 4.5-2.4 4.7 0 .2 1.4 1.9 3.1 3.9 2.6 3 2.9 3.6 1.4 4.1-1.2.5-1.4 1.4-.9 3.7.5 2.5.2 3.3-2.2 5.2l-2.8 2.2 4.3 10.4 4.3 10.3-3.2 2.9c-4.9 4.4-5.1 8.5-.6 14.5 4.2 5.8 4.6 9.6 1.4 11.3-1.3.7-2.7 1.8-3.1 2.5-.6 1-1.3 1.1-3.3.2-3.7-1.7-6 1.2-8.7 11.4-1.8 6.8-3.4 10.1-7.7 15.9-2.9 4.1-6.7 8.8-8.3 10.6-2.5 2.7-2.9 3.7-2.5 7.5.4 3.6-.2 5.7-3.5 12.3l-4 8 1.2 8.2c.9 6.2.9 8.7 0 10.7s-.9 3.2-.1 5.1c1.6 3.4-1.6 10.2-5 10.7-2.1.3-2.4 1.1-3.3 8.9-.6 4.8-1.7 9.5-2.5 10.5-.8 1.1-1.6 2.1-1.7 2.3-.1.2-.9-.2-1.7-.8-1.6-1.3-1.8-.9-3.1 5.7-.9 4.6 3.9 19 6.9 20.2l2.1.9-2.2.6-2.1.7 2 4.6c3.4 8 6.6 20.5 6.6 25.8 0 6.2 1.1 10.3 2.2 8.4.7-1.1 1.3-1 3.4.4 2.9 1.9 3.3 3.8 1.1 5.6-2 1.6-2 13.5 0 17 2.2 3.8 1.8 5.4-1.7 7.3-8.1 4.5-9.6 6.7-11.7 16.7-1.1 5.2-2.4 9.6-2.9 9.8-.5.1-1.8.9-2.8 1.7-1.8 1.5-1.8 1.6.4 3.4 1.9 1.6 2.4 3.3 2.9 9.9.6 8.7-.2 15.2-1.9 15.2-.6 0-3.2 1.9-5.7 4.3s-5.3 4.8-6.2 5.3c-.8.5-2.5 2.3-3.6 4-1.8 2.6-2.2 4.6-2.3 13.5-.1 5.7.2 11.7.8 13.4.7 2.4.6 3.4-1 5.1-1.8 2-1.8 2.2.5 8.5 1.4 3.5 2.7 8.9 3.1 11.9.4 3 1.4 6.2 2.3 7.2 2.5 2.7.7 5.1-6.2 8.2l-6.5 2.9v5.9c0 7.3-3.3 16-5.8 15.1-1.3-.6-1.4.2-.9 5.8.6 5.6.5 6.6-1.2 7.9-2.3 1.7-3.9 7-2.2 7 1.9 0 1.2 4.5-1.4 9.4-2 3.8-2.3 5.1-1.4 7.3.6 1.8.8 6.7.4 13.3-.7 9.7-.6 10.8 1.4 14.2 1.6 2.7 2.1 4.9 1.9 8.5-.3 4.8-.3 4.8-4.5 5.7-3.6.7-4.3 1.3-4.3 3.3 0 1.3.5 3.3 1 4.3.8 1.5.6 2.1-1 3-1.5.8-2 2.1-2 5.5 0 5.5 2.4 9.6 7.2 12.6 4.4 2.7 4.5 3.2 1.8 5.9-1.2 1.2-2 3.3-2 5.3 0 3 .4 3.5 4.8 5.3l4.7 2-3.3 1.9c-2.9 1.7-3.3 2.4-2.9 5 .3 1.6-.2 5.1-1 7.7-.8 2.6-1.3 5.4-1 6.2.4.9 3.1 1.6 8.1 2.1 4.1.3 8 1.2 8.5 1.9.6.7.8 2.7.5 4.5-.5 2.5-1.1 3.1-3.3 3.1-1.5 0-3.1-.4-3.6-.9-.6-.4-4.2-.4-8.2.2-6.7 1-7.3 1.3-7.3 3.4 0 2.1.4 2.3 5.8 2.3l5.7.1 3.4 4.9c3.1 4.6 3.2 5.2 2.1 8-.8 1.9-2.3 3.3-4.7 4.1-1.9.6-3.6 1.6-3.9 2.3-.2.6.4 3.7 1.5 6.9l2 5.8-4.5 2.2-4.6 2.2 2.9 1.1c2.4 1 3 2.2 4.4 8l1.7 6.9-4.5 2-4.5 1.9.4 5.1c.3 2.7.8 5.7 1.2 6.6.5 1.2-.5 2.4-4.2 4.7-6.9 4.5-8.8 7-10 13.4-1 5.1-.9 6.2 1.2 11.4l2.3 5.6-5.4 8.7c-2.9 4.7-6.6 9.6-8.1 10.8-1.6 1.4-5.9 3-10.4 4l-7.7 1.6-.9 4.1c-.4 2.3-.4 6.4 0 9.3.5 3.4.3 8.2-.6 14l-1.4 8.7 6.2 6.4 6.1 6.4 5.3-.6c2.8-.3 7.6-.9 10.5-1.2 4.9-.6 5.3-.5 6.4 1.8 1.5 3.2.5 7.5-2 9.3-2 1.4-2 1.5-.2 3.5s1.8 2.3.2 8.3l-1.6 6.2 4.7 4.8 4.8 4.7 27.4 1c25.4.9 28.1 1.1 34.9 3.5 4.1 1.4 9.1 2.5 11.1 2.5s6.1.8 9.1 1.9c6.2 2.1 14.9 3.6 14.9 2.5 0-.4-2.6-4.4-5.9-8.8-9.8-13.6-14.1-23.9-14.1-34.1 0-5.4.4-6.9 3.3-11 2.7-3.9 4.5-5.3 11.2-8.2 4.4-1.9 10.1-4.3 12.7-5.2 2.5-.9 5.5-2.7 6.6-4.1 3-3.9 5.4-12.3 4.7-16.3-.6-2.8-.1-4.5 2-8.1 1.5-2.5 3.9-5.6 5.5-6.9 1.5-1.3 4-4.3 5.4-6.5 1.9-3.1 3.3-4.2 5.1-4.2 3.1 0 15.6-6.3 21-10.6 2.2-1.7 5-3.4 6.3-3.8 1.3-.4 2.2-1.5 2.2-2.7 0-1.1.7-2.2 1.5-2.5 1.1-.5 1.2-1 .3-2.4-.9-1.4-.7-3.3.6-8.3 2.1-7.5 1.5-11.9-1.7-14-1.3-.8-6.3-1.8-11.3-2.2l-9.1-.7-9.8-7.8c-5.3-4.2-11-9.7-12.6-12.1-2.8-4.4-2.8-4.5-1.4-9.4.9-2.8 2.8-6.8 4.4-9 1.6-2.2 4-6.3 5.5-9.2 2.3-4.6 3.1-5.3 6.8-6.3 10.1-2.5 11.7-3.1 12.3-5 .8-2.4 5.3-3.4 15.5-3.5 6.4 0 7.5-.3 7.8-1.8.2-1-.4-2.7-1.4-3.8-1.7-1.8-1.6-2 .5-4.3 1.3-1.4 3.6-3 5.1-3.6 5.2-2.2 5.8-6.5 3.4-26-.5-4.2-.4-4.6 2.5-6.3 1.8-1.1 3.1-2.6 3.1-3.8 0-1.6 2.2-3 10-6.6 5.5-2.6 10-4.9 10-5.3 0-.4-1.7-1.2-3.9-1.8-6.7-2-13.1-5.2-13.1-6.5 0-1.9 8.5-5.7 12.8-5.7 4.3 0 6.2 1.4 6.2 4.6 0 3.2 4.3 4.4 11.1 3.2 3-.5 5.6-1.1 5.7-1.3 1.5-1.5 1.9-8.3.6-12.4-2.4-8.3-2.7-8.5-11.4-5.7-6 1.9-6.9 2.4-4.2 2.5 2.4.1 3.2.5 3.2 2 0 2.2-3.8 3.2-9.7 2.4-3.2-.4-4-.9-3.6-2.3.4-1.4-.6-2-4.7-3-4.5-1.1-5.4-1.7-6.6-4.6-.8-2-1.4-6.8-1.4-11.8 0-4.7-.4-9.5-.9-10.8-.4-1.3-1.1-5-1.5-8.4-.6-5.7-.5-6.1 1.9-7.4 2.2-1.2 3.7-1 13.2 1.9 6 1.8 12.8 4.7 15.3 6.3l4.4 3.1 10.8-.7c9.3-.6 11.7-1.2 19-4.4 4.6-2 9.4-4.4 10.6-5.3 2.1-1.5 2.1-1.7.6-6.2-.9-2.6-2-4.9-2.5-5.3-1.2-.7-1.1-7.1.1-7.9.6-.3 1-2 1-3.6 0-4.6 1.7-7.2 4.4-6.5 2.1.5 2.4.1 3.3-5.2 1-5.5.9-5.9-1.7-9.2-4.3-5.5-5-7.5-5-13.4 0-6.4 1.3-7.2 5.3-3.2 1.4 1.3 4.2 2.9 6.3 3.5 12.5 3.5 49.6-1.6 83.6-11.4 15.2-4.4 30.1-13 31.9-18.5.6-1.9 3.3-6 5.8-9 2.6-3 7.4-9.1 10.6-13.5 4.9-6.6 6-8.9 6.5-13.2.8-6.9-1.3-14.3-4-14.3-1.1 0-4.3-1.2-7-2.8-4.1-2.2-5.2-3.4-6.1-6.6-1.3-4.6-.5-9.9 2.2-14.2 2.6-4.3 2.4-5.2-2.1-10.9-3.2-4.1-6.1-6.2-16.2-11.5-15-7.9-16.3-9.6-14.3-19 1.1-5.3 1.1-6.2-.6-9-2.2-3.6-2.3-5.1-.7-13.5 1-5.8 1.5-6.6 6.1-10.1l4.9-3.9-.5-8.4c-.3-4.8-.1-9.4.5-10.7.8-1.6.6-3.3-.7-6.6-1.6-4.3-1.6-4.7.5-10.4 1.2-3.2 2.5-7.6 3-9.6.4-2.1 1.2-4.3 1.8-5 1.7-2.1 3.2-18.6 2-22-1.2-3.5-.4-4.9 8.1-13.6 3.4-3.5 6.8-7.9 7.5-9.7.8-1.8 2.4-3.9 3.7-4.5 5.3-2.9 10.7-9.1 12.9-15 1.4-3.7 2.9-6.2 4.1-6.5 1.1-.4 2.6-2.1 3.5-3.8.9-1.8 4.5-5.9 8-9.2 3.6-3.3 8.6-9.2 11.2-13 4.3-6.3 5.2-7.2 10-8.7 3-.9 7-3.2 9-5 2-1.8 8.5-5.8 14.4-8.8l10.7-5.5 4.2-7.3c3.5-6.2 4-8 3.5-11-.3-2 0-5.1.6-6.8.9-2.7.7-4.6-1.4-12-2.2-8-2.9-9.2-7.1-12.7l-4.6-4-4.8 1.3c-2.6.7-5.5 1.4-6.5 1.6-1.3.4-1.7 2.4-2.3 11.2-.5 8.2-1.3 12-3.2 16.4-2.2 5-3.4 6.2-10.6 11-4.5 3-9.1 5.9-10.1 6.4-1.1.6-2.4 2.4-3 4.1-1.5 4.4-1.7 4.5-7.2 2.8-2.7-.8-5.4-1.5-6-1.5-.6 0-2.5 2-4.3 4.5l-3.2 4.5-2.8-1.9c-2.5-1.8-3-1.9-4.9-.5-1.9 1.3-2.8 1.2-8.4-.3-3.5-.9-8.2-2.9-10.5-4.5-4-2.7-4.8-2.8-16.7-3.1-6.8-.1-12.7-.5-13.1-.9-.4-.4 1.3-3.3 3.9-6.5 3.5-4.6 4.8-7.3 5.9-12.5 1.4-6.5 6.5-17 11-22.5 1.3-1.5 3.3-4.4 4.5-6.4l2.2-3.6-4.4-6c-5.7-7.7-15.8-14.2-27.1-17.3-9.5-2.6-9.3-2.4-22.3-13.4L608.8 77h-6c-5.7 0-6.2-.2-15.6-6.9-5.3-3.8-10.8-8.1-12.2-9.6-1.4-1.5-6.5-5.7-11.5-9.4-9-6.7-9-6.8-10.9-13.5-1.8-6.4-2.2-7-7.2-10.2-2.9-1.8-6.9-5.4-9-7.9-5.2-6.4-8.3-7.5-21.2-7.2-5.9.1-11.3-.1-12.1-.3-.9-.4-2 1.5-3.6 6-1.2 3.6-3 8-3.9 9.7-.9 1.8-1.6 5.3-1.6 7.9v4.8l-6-10.2c-7.5-12.6-8.4-13.2-22.3-13.2h-10.3l-3-3.3c-1.7-1.7-4.7-5.6-6.8-8.5-2.1-2.8-3.9-5.2-4-5.2-.1 0-1.2 3.5-2.5 7.9zM378 986.4v32.5l9.3-.5c10.7-.7 23.8.6 38 3.8l10 2.2 6.6-1.9c4.6-1.4 9-1.9 14.7-1.7l8.1.2 2.6-3.9 2.6-3.9-6.7-.7c-3.7-.4-11.6-1.6-17.5-2.7-9.9-1.9-11.4-2.5-16.5-6.6-3.1-2.4-10.2-6.5-15.7-9.1-9.3-4.5-10.5-5.3-16.8-12.9-5.8-7.1-7.3-8.3-10.7-8.8-3.3-.5-3.9-1.1-4.2-3.3-.2-1.5.4-3.5 1.5-4.8 1.9-2.1 1.9-2.2-.1-5.1-5.4-7.4-5.2-8.3-5.2 27.2z"
	/></svg
>
