<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#br)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="br" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					viewBox="-2100 -1470 4200 2940"
					><defs
						><path
							id="i"
							fill-rule="evenodd"
							d="M-31.5 0h33a30 30 0 0 0 30-30v-10a30 30 0 0 0-30-30h-33zm13-13h19a19 19 0 0 0 19-19v-6a19 19 0 0 0-19-19h-19z"
						/><path
							id="n"
							d="M-15.75-22C-15.75-15-9-11.5 1-11.5s14.74-3.25 14.75-7.75c0-14.25-46.75-5.25-46.5-30.25C-30.5-71-6-70 3-70s26 4 25.75 21.25H13.5c0-7.5-7-10.25-15-10.25-7.75 0-13.25 1.25-13.25 8.5-.25 11.75 46.25 4 46.25 28.75C31.5-3.5 13.5 0 0 0c-11.5 0-31.55-4.5-31.5-22z"
						/><path id="l" d="M-26.25 0h52.5v-12h-40.5v-16h33v-12h-33v-11H25v-12h-51.25z" /><path
							id="k"
							d="M-31.5 0h12v-48l14 48h11l14-48V0h12v-70H14L0-22l-14-48h-17.5z"
						/><path
							id="d"
							fill-rule="evenodd"
							d="M0 0a31.5 35 0 0 0 0-70A31.5 35 0 0 0 0 0m0-13a18.5 22 0 0 0 0-44 18.5 22 0 0 0 0 44"
						/><path
							id="f"
							fill-rule="evenodd"
							d="M-31.5 0h13v-26h28a22 22 0 0 0 0-44h-40zm13-39h27a9 9 0 0 0 0-18h-27z"
						/><path
							id="j"
							transform="translate(-31.5)"
							d="M0 0h63v-13H12v-18h40v-12H12v-14h48v-13H0z"
						/><use id="q" xlink:href="#a" transform="scale(15)" /><use
							id="s"
							xlink:href="#a"
							transform="scale(10.5)"
						/><use id="r" xlink:href="#a" transform="scale(21)" /><use
							id="o"
							xlink:href="#a"
							transform="scale(31.5)"
						/><use id="p" xlink:href="#a" transform="scale(26.25)" /><g id="a" fill="#fff"
							><g id="c"
								><path id="b" transform="rotate(18 0 -1)" d="M0-1v1h.5" /><use
									xlink:href="#b"
									transform="scale(-1 1)"
								/></g
							><use xlink:href="#c" transform="rotate(72)" /><use
								xlink:href="#c"
								transform="rotate(-72)"
							/><use xlink:href="#c" transform="rotate(144)" /><use
								xlink:href="#c"
								transform="rotate(216)"
							/></g
						><g id="m"
							><clipPath id="e"><path d="M-31.5 0v-70h63V0zM0-47v12h31.5v-12z" /></clipPath><use
								xlink:href="#d"
								clip-path="url(#e)"
							/><path d="M5-35h26.5v10H5z" /><path d="M21.5-35h10V0h-10z" /></g
						><g id="h"
							><use xlink:href="#f" /><path d="M28 0c0-10 0-32-15-32H-6c22 0 22 22 22 32" /></g
						></defs
					><rect y="-50%" x="-50%" height="100%" fill="#009b3a" width="100%" /><path
						d="M-1743 0 0 1113 1743 0 0-1113z"
						fill="#fedf00"
					/><circle r="735" fill="#002776" /><clipPath id="g"><circle r="735" /></clipPath><path
						fill="#fff"
						d="M-2205 1470a1785 1785 0 0 1 3570 0h-105a1680 1680 0 1 0-3360 0z"
						clip-path="url(#g)"
					/><g transform="translate(-420 1470)" fill="#009b3a"
						><use y="-1697.5" xlink:href="#d" transform="rotate(-7)" /><use
							y="-1697.5"
							xlink:href="#h"
							transform="rotate(-4)"
						/><use y="-1697.5" xlink:href="#i" transform="rotate(-1)" /><use
							y="-1697.5"
							xlink:href="#j"
							transform="rotate(2)"
						/><use y="-1697.5" xlink:href="#k" transform="rotate(5)" /><use
							y="-1697.5"
							xlink:href="#l"
							transform="rotate(9.75)"
						/><use y="-1697.5" xlink:href="#f" transform="rotate(14.5)" /><use
							y="-1697.5"
							xlink:href="#h"
							transform="rotate(17.5)"
						/><use y="-1697.5" xlink:href="#d" transform="rotate(20.5)" /><use
							y="-1697.5"
							xlink:href="#m"
							transform="rotate(23.5)"
						/><use y="-1697.5" xlink:href="#h" transform="rotate(26.5)" /><use
							y="-1697.5"
							xlink:href="#j"
							transform="rotate(29.5)"
						/><use y="-1697.5" xlink:href="#n" transform="rotate(32.5)" /><use
							y="-1697.5"
							xlink:href="#n"
							transform="rotate(35.5)"
						/><use y="-1697.5" xlink:href="#d" transform="rotate(38.5)" /></g
					><use y="-132" x="-600" xlink:href="#o" /><use y="177" x="-535" xlink:href="#o" /><use
						y="243"
						x="-625"
						xlink:href="#p"
					/><use y="132" x="-463" xlink:href="#q" /><use y="250" x="-382" xlink:href="#p" /><use
						y="323"
						x="-404"
						xlink:href="#r"
					/><use y="-228" x="228" xlink:href="#o" /><use y="258" x="515" xlink:href="#o" /><use
						y="265"
						x="617"
						xlink:href="#r"
					/><use y="323" x="545" xlink:href="#p" /><use y="477" x="368" xlink:href="#p" /><use
						y="551"
						x="367"
						xlink:href="#r"
					/><use y="419" x="441" xlink:href="#r" /><use y="382" x="500" xlink:href="#p" /><use
						y="405"
						x="365"
						xlink:href="#r"
					/><use y="30" x="-280" xlink:href="#p" /><use y="-37" x="200" xlink:href="#r" /><use
						y="330"
						xlink:href="#o"
					/><use y="184" x="85" xlink:href="#p" /><use y="118" xlink:href="#p" /><use
						y="184"
						x="-74"
						xlink:href="#r"
					/><use y="235" x="-37" xlink:href="#q" /><use y="495" x="220" xlink:href="#p" /><use
						y="430"
						x="283"
						xlink:href="#r"
					/><use y="412" x="162" xlink:href="#r" /><use y="390" x="-295" xlink:href="#o" /><use
						y="575"
						xlink:href="#s"
					/></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M325.5 30.4c-3.8 1.3-11.2 4.4-16.2 6.9-7 3.6-10.4 4.7-13.8 4.7-2.9 0-6 .8-8.4 2.2-3.2 1.8-4 3-4.7 6.5l-.9 4.4-5.7-3.6c-5.3-3.4-6.4-3.7-14-3.8-4.6-.1-9.1.2-10 .6-1.3.7-2 .1-3.3-2.2l-1.6-3.1h-18.2l8.4 6 8.4 6-.4 8c-.3 7.5-.1 8.4 2.4 12 2.3 3.2 2.6 4.5 2 7.8-.7 4.4-1.1 4.2 11 5.7 2.8.4 5.6.8 6.3 1 1.9.7-7 8.3-11.4 9.9-2.9 1-4 2-4.4 4-.3 1.4-1.8 4.2-3.4 6.2l-2.8 3.6-2.5-2.4-2.5-2.3-3 3.7c-1.6 2.1-5.6 5.2-8.8 6.9-4 2.1-6.9 4.7-9.6 8.4-4.1 5.6-5.4 6-5.4 1.9 0-3.1-.4-3-8.5.6-7.6 3.4-6.3 3.8-15.9-4.7-5.2-4.7-6.5-5.3-10.3-5.3H174v-5.6c0-5.1-.4-6.1-4.6-11.5-5.1-6.7-4.7-6.7-13.7-.1l-4.9 3.5-3.6-1.9-4.4-2.2c-.5-.2-.8.5-.8 1.6 0 2.8-7.7 3.6-24.7 2.7l-13.3-.7-2 4.6c-1 2.5-2.2 6.9-2.6 9.6l-.7 5 4.4.1c2.4 0 6.4.8 8.9 1.7 3.8 1.5 4.6 2.3 5.3 5.5.5 2.1.7 4.1.4 4.4-.3.3-2.1-.4-3.9-1.5l-3.3-2-7.2 3.3-7.3 3.4v19.2l5.9 5.4c5.2 4.9 6.2 6.5 9.1 14.6l3.3 9.1-2.2 6.2c-1.8 4.9-2.4 9.9-3.3 25.1l-1 19L103 251c-3.2 8.4-5.3 12.4-6.2 12.2-.7-.2-3.7-.6-6.7-.9-4.2-.5-5.7-.3-6.5.9-1.6 2.2-11.1 6.8-14 6.8-7.5 0-25.4 5.8-29.6 9.6-1.4 1.2-5.7 4.3-9.7 6.8-7.7 4.9-8.7 7-8.2 15.6.2 2.4-.6 4.8-2.5 7.7l-2.8 4.2 1.7 5.8 1.7 5.8-2.4 1.4c-1.2.8-4.4 3.7-7 6.3-3.7 3.6-4.8 5.5-4.8 7.9 0 2.2.5 3.2 2 3.6 2.7.7 2.5 1.6-.8 3.1-6.7 2.9-9.9 9.7-5 10.4 1.7.2 2.4 1.2 2.8 3.8.7 4.3 13.9 24.3 18.8 28.6l3.6 3.1-2.7 4.6c-1.5 2.5-2.7 4.8-2.7 5.1 0 .3 3.1.6 6.9.6 3.8 0 9.2.5 12 1.2 4.6 1 5.1 1.4 5.1 3.8 0 1.5.7 3.4 1.6 4.1.9.7 2 2.3 2.4 3.5.9 2.3 5.1 3.4 13.5 3.4 4.7-.1 5.6-.5 15.5-8 5.7-4.4 11-8 11.6-8 .6 0 1.7.7 2.4 1.5 1 1.2.8 2.5-1 6.9-2.1 5-2.2 5.9-1.1 13 .6 4.2 1.1 9.7 1.1 12.1 0 3.9.4 4.6 3 6 4 2.1 6 1.9 10.2-1 3.5-2.4 4.4-2.5 17.5-2.5 7.6 0 15.2.4 16.8.8 4.8 1.4 11-.7 14-4.7 1.4-2.1 4.3-4.2 6.8-5.1 2.3-.9 7.1-3.7 10.6-6.3 3.5-2.6 7.4-4.7 8.7-4.7 1.4 0 3-1 4.1-2.6 2.3-3.6 8.3-7.2 16.6-10 5.5-1.9 9.2-2.4 16.8-2.4 11.3 0 11.7.4 9.3 9.3-1.9 7-1.8 13.7.2 16.6 1.2 1.7 1.5 3.5 1 6.8-.3 2.5-.2 6.2.4 8.2.5 2 1.2 4.8 1.5 6.3.4 2.1 1.5 3 5.4 4.3 3.3 1.1 5.8 2.8 7.6 5.1 1.7 2.2 3.4 3.4 5 3.4 2 0 2.5.7 3.1 3.5.6 3.1.9 3.5 5.1 4.1 2.5.4 7.6.4 11.4.1 5.3-.4 7-.2 8 .9 2.3 2.8 6.8 4.5 8.8 3.5 1.4-.8 2.4-.4 4.6 1.9 1.6 1.7 3.6 3 4.5 3 .9 0 3.1 1.1 5 2.5 2.5 1.8 4.6 2.5 8.2 2.5 4.3 0 4.8.3 5.4 2.5.3 1.4 2 3.6 3.8 4.9 2.7 2 4.7 2.4 14.6 3 14.6.8 16.2 1.1 20.5 5 2.9 2.5 3.6 4.1 4.3 8.6.6 4 2 7.3 5 11.7 2.8 4.2 4.2 7.3 4.2 9.5 0 3.3 0 3.3-4.5 3-4.1-.4-4.5-.2-5.1 2.3-.5 2 0 3.4 2.3 6.3 2.2 2.7 3.1 5.2 3.5 9.2.4 3 1.4 7.4 2.3 9.7l1.7 4.3 15.7.1c8.6.1 18.3 0 21.7-.1 7.2-.2 8.3 1 5.9 6.7-.9 2-1.5 6.6-1.5 10.7v7.1l7.3 4.7c3.9 2.6 8.4 5.2 10 5.9 3.8 1.7 5 6.9 4.9 20.6V634l-4 4.7c-3.8 4.6-8.2 15.8-8.2 21 0 3.5 4.1 17.8 6.1 20.9 2.4 3.9 2.5 10.5.2 18.9-1.4 5.4-1.5 6.8-.4 8.8 1 1.8 1 3 .2 4.5-1.9 3.5-1.3 4 5.8 5.2 5.9 1.1 7.5 1.1 11.6-.4 4.5-1.5 5-1.5 6.6 0 1.7 1.5 2 1.5 4.5-.5 2.7-2.2 4.4-2 4.4.5 0 1 1.4 1.4 5.6 1.4 4.8 0 6.2.5 9.5 3.1 2.2 1.7 4.4 4.1 5.1 5.2 2.1 3.9 4.8 16.1 5.4 24.5.7 7.8.9 8.4 3.6 9.8 2.5 1.3 3.6 1.3 10.8-.4l8.1-1.9 1.8 2.3c5 6.4 4.8 16.4-.8 31.1-3 8-3 8.3-1.1 9.3 1 .5 3.2 1 4.8 1 1.6 0 5 .9 7.4 2 6.5 2.9 7.8 6.8 7.7 23.5 0 12.9 0 13-2.7 15.1-1.5 1.1-5.4 3.1-8.7 4.4-3.6 1.4-8.5 4.6-12.4 7.9-3.4 3.1-8.8 7.7-12 10.2-11.8 9.7-22.8 21.3-24.1 25.4-.7 2.2-3.5 6.6-6.1 9.8-2.7 3.2-5.6 7.2-6.6 8.8-1 1.6-2.6 3.2-3.8 3.5-1.1.4-3.6 1.9-5.6 3.5-3 2.3-3.5 3.3-3.1 5.8.3 2.4 1 3.1 3.5 3.7 2.6.5 3.4.2 5.4-2.2 2.9-3.7 7.8-3.5 10.8.4 1.1 1.5 4.8 5.5 8.2 9 3.5 3.4 6.3 7.1 6.3 8.1s.8 2.5 1.9 3.5c1.6 1.5 1.9 1.5 3.1.1.7-.9 2.2-2.1 3.3-2.7 1.8-.9 2.8-.2 8.2 5.6 5.1 5.5 6.7 6.6 9.4 6.6s4.4 1.2 10.7 7.8c4.1 4.2 7.7 8 8.1 8.4.5.4 5 4.8 10.2 9.8 8.2 7.9 16.9 14 20 14 .5 0 2-1.7 3.2-3.8 1.2-2 6.4-8 11.4-13.2 5.1-5.2 10.7-11.8 12.5-14.5 1.9-2.8 6.5-8.8 10.4-13.5 11.4-13.6 12.7-15.6 14.3-21.6 1.9-7.4 8-15.9 18.4-25.9 8.8-8.4 20.9-22.8 20.9-24.8 0-.7 1.6-4.5 3.5-8.5 3.3-6.9 3.4-7.5 2-10.2-.8-1.6-1.5-4.6-1.5-6.6 0-2.1-.7-6-1.6-8.8-1.6-5.1-1.5-5.2 2.1-17.1 5.4-17.8 8.2-22.4 17.4-28.9 4.2-3 11-8.7 15.1-12.8 9.6-9.4 15.4-13.1 25.6-16.5l8.2-2.6 6.2 2.6c3.4 1.5 6.6 2.7 7.1 2.7s1.8-1.4 2.8-3.1c1.5-2.4 1.7-3.8 1-5.7-.5-1.4-.8-2.7-.5-2.9.2-.3 3.6-1.5 7.5-2.7 7-2.2 7.1-2.3 5.1-4.1-2.7-2.5-1.7-3.5 3.7-3.5 3.2 0 5 .5 5.9 1.7 1.2 1.7 1.7 1.4 6.3-3.2l5.1-4.9v7.2l16.3.6c8.9.4 19.1.8 22.7.9l6.5.2 1-6.1c1.3-7.8 3.6-10.5 11.5-13.3 8.7-3.1 13-7.8 13-14.2 0-3.8.5-5 3.4-7.8 2.2-2.1 3.6-4.6 4-7.1.5-3.2 1.7-4.7 8.5-10.1 7.1-5.8 8.1-6.9 9.6-12.1 1.4-4.5 2.4-6 5.1-7.4 2.8-1.5 4-3.4 7.3-11.4 2.8-6.6 4.1-11.5 4.4-16 .8-11.6 3.5-18.9 8.8-24.1l4.7-4.6 1.6-13.4c.9-8.1 2.8-17.6 4.7-23.9 2.9-9.5 3.3-12.2 3.9-29 .6-15.7 1.2-20.6 3.9-32.5 1.8-7.7 4.3-16.5 5.5-19.5l2.2-5.5 5.6-.5 5.7-.5 6.3-8.5c6.6-8.7 14.6-21.6 19.1-30.6 1.5-2.9 4.8-7 8-9.7 3.1-2.6 7.2-6.9 9.1-9.6 3.1-4.1 4.5-5.1 8.7-6.2 4.4-1.2 5.8-2.3 12.7-10.1 20.4-23.4 23.3-27.3 29.4-39.3 11.7-23 13.4-30.3 9.3-40.4-1.4-3.6-2.5-8.4-2.5-10.7 0-7.7-2.2-19.8-4.2-23.3-1-1.9-2.2-6.3-2.5-9.9-.6-6.3-.8-6.7-6.5-12.4l-5.8-5.8h-10.7c-24.1-.1-42.9-9.3-56-27.7-3.8-5.4-5.7-7-11.7-9.9-4.6-2.4-9.5-6-14.1-10.5-6.5-6.3-7.7-7.1-17.3-10.4-10.2-3.5-10.9-3.6-32-4.5-13-.5-24.1-1.5-27.7-2.4-3.3-.8-8.4-1.5-11.3-1.6-4 0-7-.9-12.4-3.6-3.9-2-10.1-4.2-13.8-5-3.8-.7-7.4-1.6-8.2-1.9-.8-.3-2.3.7-3.6 2.5-1.9 2.5-2.9 3-6.6 3-4 0-4.7.4-8.1 4.6l-3.8 4.6-1.3-2.3c-1.2-2.2-.9-2.7 2.7-6.4 2.1-2.3 3.9-4.8 3.9-5.6 0-.8-2-3-4.4-4.8-3.7-2.8-4.6-4.1-5.3-8-.7-3.9-1.4-4.9-4.3-6.3-2.3-1.2-4.8-1.6-7.2-1.3-3.2.4-4.7-.1-10.2-3.9-3.5-2.4-8.1-4.9-10.3-5.6-2.1-.7-9.2-3.7-15.8-6.8l-12-5.6-13.3-.4-13.3-.4-3 2.8c-1.7 1.6-5.1 6-7.7 9.8-5 7.3-9.8 10.6-15.2 10.6h-3l7.5-10.4c9.3-12.7 10.3-15.7 7.2-20.3-2.6-3.9-5.9-5.2-14.7-6-7.6-.6-16.7-5.3-17.2-8.7-.3-1.8-1.1-2.1-6-2.4-5.3-.3-5.7-.5-7.2-3.6-2.2-4.7-2-6.6.7-6.6 4.2 0 4.8-1.1 3.7-7.1-.7-3.8-.7-7.2 0-10.9 1-5.4 1-5.6-1.7-7.7-1.6-1.3-4.2-2.3-5.9-2.3-2.9 0-3.2-.3-3.7-3.8-.4-2.1-1.3-4.6-2.1-5.7-1.3-1.8-1.5-1.8-4.1-.1-1.5 1-2.9 1.6-3.1 1.3-.3-.2-.9-3.2-1.5-6.6-.6-3.7-2.2-8.1-3.9-11-2.3-3.7-3-6-3-10.2-.1-14.3-5.8-25.9-12.7-25.9-2.7 0-4.5 1-8.5 4.7-6.3 6-17.1 26.7-18.3 35.1-.6 4.4-1.4 5.9-4.7 9l-3.9 3.7-11.1-.9c-7.9-.7-12.6-.6-16.7.2-3.2.7-8.3 1.2-11.5 1.2-5.1 0-6.4-.4-10.7-3.5l-4.8-3.6-6.7 1.2c-3.7.6-9.4.9-12.7.5-4.8-.5-6.4-.3-7.9 1.1-2.2 2-2.3 6.4-.2 10.5 2.3 4.4.8 5-12.2 4.5-9-.2-11.7-.7-14.6-2.4l-3.6-2.1-5.8 4.8c-4.8 3.9-8.7 5.8-19.9 9.9-16.7 6.1-19.9 6.3-26.9 1.8-2.8-1.9-6.5-4.2-8.3-5.2-3.5-2-4.3-3.9-4.3-10.5 0-2.5-.7-7-1.5-10s-1.4-7.8-1.3-10.6c.1-3.9-.4-5.9-2-8.2l-2.2-3 5-4.2c4.8-4.1 5-4.3 5-9.5 0-5-.2-5.5-3.9-8.4-3-2.4-4.9-3.1-8.1-3.1-3.3 0-5-.7-7.7-3-4.2-3.7-9.5-3.9-19.8-.6z"
	/></svg
>
