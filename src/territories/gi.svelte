<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#gi)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="gi" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					viewBox="0 0 512 256"
					><path fill="#da000c" d="M0 0h512v256H0z" /><path fill="#fff" d="M0 0h512v171.5H0z" /><g
						stroke="#000"
						><g id="a" fill="#da000c" stroke-linecap="square"
							><path fill="#000" stroke="none" d="M196.571 116.303h64v43.993h-64z" /><path
								d="M229.819 153.865H190.75l-8.66 5.7v6.04h47.729M213.469 128.594c5.625 0 10.219 4.689 10.219 10.469v14.78h7.343v-56H190.75v56h12.5v-14.78c0-5.554 4.515-10.47 10.219-10.47z"
							/><path fill="#000" stroke="none" d="M204.528 59.962h18.523v33.959h-18.523z" /><path
								d="M223 88.656h-16.209v-5.75h-11.885v5.75h-8.062v-5.75h-4.813v10.438H223m-36.156-.038h34.97v4.538h-34.97z"
							/><path
								d="M200.719 47.625v35.281h6.072V73.22c0-3.63 2.562-6.6 6.147-6.781.115-.006.226 0 .343 0a6.78 6.78 0 0 1 6.781 6.78v9.688h5.782V47.625zM198.531 42.844v4.781h29.25v-4.781zM194.781 33.688v9.156h35.094v-9.157h-5.406v4.657h-6.531v-4.657h-9.97v4.657h-6.53v-4.657zM182.09 159.564H230M261 156.813h-32.438l-9.78 4.718v7.031H261"
							/><path stroke-linecap="butt" d="M218.771 161.52H262" /></g
						><use xlink:href="#a" transform="matrix(-1 0 0 1 512 0)" /><g fill="#f8d80e"
							><g stroke-linecap="round"
								><path
									stroke-width=".768"
									d="M273.297 150.031c-2.654.883-5.053 2.369-7.469 3.753-3.1 1.831-6.107 3.827-8.904 6.099-.985.649-1.93 1.36-2.69 2.273-1.025.878-2.064 2.055-1.868 3.513.051.643.873-.755 1.414-.823a4.39 4.39 0 0 1 3.142-.471c1.271-1.339 2.91-2.236 4.325-3.406 3.004-2.243 6.236-4.168 9.525-5.961 1.148-.589 2.3-1.186 3.525-1.602l-1-3.375z"
								/><path
									d="M260.4 157.391v3.912M262.817 155.685v3.883M265.233 154.18v3.858M267.65 152.694v3.981"
								/><path
									stroke-width=".768"
									d="m238.891 150.156-1.188 3.313c5.537 2.1 10.81 4.878 15.798 8.06 1.691 1.15 3.467 2.266 4.796 3.846.293.81-.514 1.489-1.314 1.244-.732-.249-1.453-.532-2.226-.004-1.107.503-2.106 2.141-.426 2.69 2.315 1.556 6.082.88 7.195-1.844.581-1.402.618-3.196-.508-4.345-2.063-2.364-4.797-4.008-7.421-5.672-4.69-2.82-9.573-5.374-14.706-7.288z"
								/><path
									d="m254.05 158.035-.313 3.34M256.832 159.74l-.862 3.269M259.804 162.012l-1.808 2.537M260.715 168.18l-2.61-1.4M261.528 165.429l-2.995.28M257.665 169.765l-.205-2.633M256.568 166.756l-2.473 1.822M244.677 152.937v3.115M250.963 156.244v3.534M247.82 154.593v3.32"
								/></g
							><path
								d="M235.781 227.563v8.03h5.031v-4.03h6.844v4.03h5.406v-8.03zm0 11.062v8.063h17.281v-8.063h-5.406v4.031h-6.844v-4.031z"
							/><path d="M253.052 193.651h4.99v58.115h-4.99z" /><path
								d="M253.052 198.679h4.99v50.06h-4.99z"
							/><path
								stroke-width="1.024"
								d="m255.547 179.406 10.625 6.188-10.625 6.156-10.625-6.156zm-14.219 3.969h-2.781v4.438h2.781l14.219 8.25 14.219-8.25h2.78v-4.438h-2.78l-14.22-8.25z"
							/><path
								stroke-width="1.024"
								d="M255.344 164.281c-2.419.34-4.226 2.73-4.094 5.134.01 3.738-.018 7.476.014 11.214.129 2.408 2.233 4.566 4.675 4.588 1.985.188 3.979-.972 4.811-2.78l-1.718-1.031c-.444 1.184-1.724 1.918-2.97 1.781-1.634.046-2.958-1.544-2.812-3.134.01-3.713-.019-7.428.015-11.14.09-1.516 1.535-2.755 3.048-2.6.626-.18 1.487.676 1.875-.063.583-.83-.415-1.477-.97-1.937-.613-.085-1.253-.008-1.874-.032zm5.781 3.906c-.396.746-1.216 1.19-1.875 1.58v7.514l2 1.156c-.008-3.204.016-6.408-.011-9.611-.032-.197-.008-.499-.114-.639z"
							/></g
						><g fill="#da000c"
							><path fill="#000" stroke="none" d="M240.803 38.351h29.329v53.255h-29.329z" /><path
								d="M238.75 38.375v44.563h9.313v-13.22c0-3.048 1.952-7.28 7.937-7.28s7.938 4.232 7.938 7.28v13.22h9.312V38.374zm15.813 5h2.875v15.25h-2.875zm-8.25 3h2.906v11.156h-2.906zm16.468 0h2.906v11.156h-2.906zM235.594 31.969v6.343h40.812V31.97zM231.75 24.594v7.375h48.5v-7.375h-6.094v4.062h-6.875v-4.062h-7.844v4.062h-6.875v-4.062h-7.843v4.062h-6.875v-4.062zM222.75 97.844v4.594h66.5v-4.594z"
							/><path
								d="M220.031 82.906v14.938h71.938V82.906h-6.813v5.75h-9.062v-5.75h-12.156v5.75h-15.875v-5.75h-12.157v5.75h-9.062v-5.75z"
							/><path
								stroke-linejoin="round"
								d="M228.688 102.438v54.343h12.843v-20.344c0-9.582 6.397-14.093 14.469-14.093 7.759 0 14.469 4.51 14.469 14.094v20.343h12.844v-54.344z"
							/></g
						></g
					></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M583 4.2c-22.8 2.2-41.7 4.2-41.9 4.4-.9.8 2.1 26.2 3.9 33.4 1 4.1 2.1 11.1 2.5 15.5.3 4.4.8 10.1 1.1 12.6l.6 4.7-14.9.6c-8.1.3-19.6.9-25.5 1.2-10.1.5-10.6.5-11.3-1.5-.8-2.7-4.5-2.8-4.5-.2 0 1.8-1.4 1.9-23.7 2.5-13.1.3-28.2.9-33.5 1.2l-9.7.6.5-6.9c.4-5.2.1-7.3-1-8.7-1.5-1.8-1.7-1.8-3.5-.2-1.6 1.4-1.8 2.7-1.3 8.2.4 4.9.1 6.8-1.1 8.2-1.3 1.5-1.4 3.5-.5 15.2.5 7.4 1.1 13.7 1.4 13.9.2.2 24-.6 52.9-1.9 28.9-1.3 52.7-2.1 53-1.8.3.2-2.2 10.1-5.5 21.9-6.3 22.7-6.2 21.6-1.4 24.5 1.7 1 1.4 1.9-4.3 10.5-3.4 5.2-7.4 12.1-8.8 15.4-1.5 3.3-5.4 10.2-8.7 15.2-5.3 8.1-6.3 9.1-7.9 8.2-1.3-.6-1.9-2.1-1.9-4.2 0-2.7-.6-3.7-3.4-5.3-1.8-1-12.4-12.5-23.6-25.4-11.1-12.9-20.6-23.9-21-24.3-.8-.9-34.4-9.6-37.2-9.7-1 0-2.1 1.3-2.8 3.6-.7 1.9-1 3.7-.8 3.8.1.2 7.5 2.1 16.3 4.2 15.9 3.8 16 3.9 20.3 8.3 2.3 2.5 4.2 5.1 4.2 5.8 0 1.7-4.3 8.3-5.4 8.3-.4 0-3.5-.7-6.8-1.6-3.3-.8-7.2-1.2-8.8-.9-1.7.4-5.5-.4-10.7-2.3-4.3-1.6-13.5-4.5-20.4-6.5l-12.4-3.5-40.8-.6c-22.4-.3-41.5-1-42.5-1.4-.9-.5-6.3-.7-11.9-.4l-10.3.4v98.1l5.2-.7c2.8-.4 5.4-.9 5.7-1.1.3-.2.2-19.1-.3-42-.4-22.9-.6-41.8-.3-42.1.3-.3 2.6-.2 5.1.1l4.6.7v8.4c0 7.6.2 8.4 1.9 8.4 2.7 0 2.9-.6 3.7-9.8l.7-8.2h9.6l.3 8.2c.3 8.1.4 8.3 2.8 8.3 2.5 0 2.5-.2 2.8-8.8l.3-8.7h4.8c5.8 0 6.1.5 6.1 10.1v6.9h6v-17h4.4c5.3 0 5.6.6 5.6 10.1v6.9h6v-16h5.4c6.3 0 6-.5 7.1 13.3.6 7.2.9 7.8 2.7 7.5 1.7-.2 2.7-2.1 4.9-9.3 2.6-8.3 2.7-9.1 1.2-10.3-1.6-1.1-1.6-1.4.2-3.2 2-1.9 2.1-1.9 15.5 1.4 7.4 1.8 17.1 3.9 21.5 4.5 7.5 1.2 17.5 5.3 17.5 7.2 0 .4-2.1 2.2-4.6 4-3.1 2.1-5.2 4.5-6.5 7.6l-1.9 4.5 7.2 6.8c7.3 6.9 9.9 8.1 13.7 6.1 1.2-.7 2.9-5 5.1-12.5l3.4-11.5 4.5 4.1c15 13.6 14.1 12.3 13.8 17.9l-.2 5.1 4.5 1.8c5.4 2.1 6.2 4.6 2.6 8.5-2.3 2.5-2.6 3.6-2.6 10.7 0 11.7-.1 11.8-11.8 11.8-5.3 0-11.5.5-13.6 1-4.5 1-9 5.3-12.9 12.1-2.1 3.8-2.4 4.9-1.4 6.2 1.1 1.5 1.6 1.5 5.6-.3 4.5-2.1 7.1-2.5 7.1-1.3 0 .5.3 1.7.6 2.9.4 1.6-.6 2.8-5 5.7L423 267l1.5 3.5c.8 1.9 2.2 5.2 3.1 7.2.9 2.1 3 5.7 4.6 7.9l3 4.1-2.6 14.1c-1.4 7.7-2.6 14.8-2.6 15.8 0 2.1 10.1 18.4 11.4 18.4.4 0 3.5-1.6 6.8-3.6 3.8-2.3 6.5-3.3 7.6-2.9 1.4.6.2 2.1-6.2 8-6.7 6.3-7.8 7.7-7.4 9.9.3 1.5.1 2.9-.4 3.2-.5.3-.8 2-.6 3.6l.3 3-18.7 6.5-18.7 6.5 2.9 7.6c8.1 22 12.2 32.7 12.4 32.9.7.8 13.1-4.7 12.9-5.6-.2-.6-3-8.5-6.4-17.7-3.3-9.1-5.9-16.7-5.7-16.9 1.1-1.1 15.4-6.2 16-5.7.4.4 3.6 8.3 7.2 17.7l6.5 17 4-.2 4-.2 1.8 5.5c1.6 5.2 1.6 5.5-.1 6.7-1.7 1.3-1.3 2.7 6.3 23.9 4.4 12.4 8.1 23 8.1 23.6 0 .5-7.1 3.6-15.7 6.7-8.7 3.2-17.2 6.4-19 7.1l-3.1 1.2 2.3 6.4c1.3 3.4 2.8 7.5 3.4 9l1 2.8 3.5-2.1 3.4-2-1.5-4.5c-.8-2.5-1.4-4.6-1.2-4.8.7-.5 16.2-5.6 16.4-5.3.1.1 1.5 3.6 3 7.7 1.6 4.1 3.1 7.8 3.5 8.2.3.4 2.9.1 5.8-.7 4-1 5.4-1.1 5.7-.2.6 1.8 3.5 12 3.5 12.3 0 .1-7.7 2.8-17.1 5.9-13.8 4.6-16.9 6-16.4 7.3.3.8 1.5 5.4 2.7 10.1 1.2 4.7 8.4 25 16 45 11.7 30.9 13.6 36.6 12.3 37.3-.8.5-1.5 1.5-1.5 2.3 0 2.2-4.1 4.7-5.6 3.4-1.8-1.5-8.6 3.9-7.9 6.2.3.8-.3 2.3-1.3 3.3-1.7 1.4-2.1 1.5-3.1.2-1.1-1.3-1.9-1.1-6.2 1.5-4.1 2.6-4.7 3.4-3.9 4.9.8 1.4.4 2.1-1.5 3.4-1.3.9-3.4 1.6-4.5 1.6-1.2 0-3.8 1.1-5.8 2.5-2.9 2-3.9 2.2-4.8 1.2-1.9-2-31.3-41.5-79.9-107.2-27.1-36.6-46.1-63.2-46.5-65-.4-2.1-1.2-3.1-2.8-3.3-3.8-.6-5.2 1.5-5.2 7.5v5.5l48.2 64.1c26.5 35.3 59.4 78.9 73.2 96.9 25 32.6 25.1 32.7 29.1 33 3.3.2 4 .7 4 2.4 0 1.1 2.8 5.2 6.1 9 3.4 3.8 7.3 9.2 8.7 12 1.4 2.7 3.3 5.6 4.1 6.3.9.8 1.6 2.8 1.6 4.7 0 1.8.5 3.6 1 3.9.6.3 1 2 1 3.7 0 1.6.9 4.1 2 5.5 1.1 1.4 2 3.4 2 4.5s1.3 2.5 3.5 3.5c3.5 1.6 3.5 1.6 6.3-1 1.5-1.5 3.5-2.7 4.4-2.7.8 0 2.1-.7 2.8-1.5 1.8-2.2 5-1.9 5 .4 0 3.4 1.1 5 4.4 6.1 4.6 1.5 6.3 6.4 4.1 11.6-2.9 6.9-4.1 7.6-11.5 6.9-4-.4-7.6-1.4-9.3-2.7-1.6-1.1-3.5-1.7-4.5-1.3-1.4.5-.5 1.8 4.5 6.6 5.8 5.6 6.4 5.9 11 5.9 6.8 0 8.8 2.2 7.9 8.5-.7 4.3-.5 4.8 3.5 9.5 3.9 4.6 4.6 5 8.6 5 3.5 0 4.3.3 4.3 1.9 0 1.5 1 2 4.5 2.5 3.3.5 5 1.4 6.5 3.6 2.7 3.8 2.7 10.6-.1 13.6-1.9 2-2 2.6-.9 9.5.6 4.1 1.4 10 1.7 13.3.4 4.6 1 6 2.4 6.3 1.2.3 1.9 1.4 1.9 2.9 0 1.4 1 3 2.5 4 1.4.9 2.5 2.4 2.5 3.3 0 .9.9 2.7 1.9 4.1 1.7 2.2 1.8 2.7.5 5.1-2 3.9.2 20.2 2.6 19.6 1.2-.3 2.1.6 3 3.2.7 2 2.1 4.2 3.1 4.9 1.1.7 1.9 1.9 1.9 2.6 0 .7 1.2 3.1 2.6 5.2 5.1 7.5 4.8 9.7-3.2 21.8-1.8 2.8-3.6 6.3-3.9 7.7-.4 1.5-1.7 3.2-3.1 3.9-1.6.9-2.4 2.2-2.4 4 0 1.5-.5 4.2-1.1 5.9-.7 2.1-.8 3.6-.2 4.2.6.6.5 3.9-.5 9.2-1 6.1-1.1 9.2-.4 12.2.6 2.2.8 5.2.5 6.6-.3 1.6.6 5.3 2.1 9.1 1.4 3.5 2.6 7.8 2.6 9.4 0 2.2.8 3.3 3 4.6 1.7.9 4 3.7 5.2 6.3 1.4 2.8 3.1 4.8 4.5 5.1 1.2.3 2.5 1.5 2.9 2.6.3 1 2.6 4.3 5.2 7.1 3.5 4 5.5 5.4 8.4 5.9 2.2.4 7.2 2.3 11.3 4.3 4 1.9 8 3.5 8.8 3.5.7 0 2.2.9 3.2 2 1.2 1.3 3.1 2 5.6 2 2.1 0 5.3.9 7.1 2 3.3 2 10.2 2.7 12.5 1.2.6-.4 1.4-2.5 1.8-4.7 1.3-8.1 1.5-8.5 3.8-8.5 1.2-.1 3.3-.7 4.7-1.5 1.4-.8 3.9-1.4 5.7-1.5 2.9 0 3.3-.4 4.4-4 1.1-3.7 1-4.2-.9-6.3-5.2-5.5-4.9-24.3.4-30.6 1.3-1.6 2.4-3.7 2.4-4.7 0-1.1 1.2-4.6 2.6-7.9 1.4-3.3 3.2-7.7 3.9-9.7 1.8-4.9 6-10.2 10.8-13.5 3.6-2.5 3.8-2.9 3.7-8.2-.1-8.4.5-13.3 1.9-15.9 1-1.9.9-2.8-.8-5.6-2.5-4-2.7-8.6-.5-12.7 1.1-2.3 1.3-3.8.6-5.8-.8-2.2-.5-3.5 1.4-6.7 1.3-2.1 2.4-5.1 2.4-6.5 0-1.5.7-3.2 1.5-3.9.8-.7 1.7-2.8 2-4.9 1-6.1 2.1-7.8 5.5-8.5 2.8-.5 3.2-.9 2.8-3.1-.4-1.7 0-2.6 1.2-3 2.5-.8 12.1-10.3 14.8-14.6l2.2-3.7-4.5-4c-3.5-3.1-4.5-4.6-4.5-7.1 0-1.7-.9-4.5-1.9-6.2-1.3-2.1-1.8-4.2-1.4-5.9.3-1.5-.2-4-1-5.6-.8-1.6-1.9-5.7-2.6-9.1-1.2-6.4-.6-9.3 2.4-11.8.7-.6 1.5-4.6 1.9-9 .3-4.3 1.1-8.4 1.6-8.9.6-.6 1-2.9 1-5.2 0-3 .7-5.1 2.4-7.1 2-2.4 2.1-3 1-4.1-2.4-2.2-1.7-6.9 1.5-9.8 2.6-2.3 8.1-11.7 8.1-13.9 0-.4 1.3-2.9 2.9-5.5 2.8-4.5 10.2-23.5 12.1-30.9.7-2.7.5-4-.9-6-2-2.7-2.8-7.3-3.4-18.2l-.4-6.5 3.8-2.2c2.9-1.7 3.9-2.9 3.9-4.8 0-1.4.7-3.9 1.6-5.6.9-1.7 1.4-4.2 1.1-5.7-1.9-9.3-2.7-11.5-4.1-12.3-3.2-1.8-10.6-13.3-13.6-21-3.8-9.8-4.8-18.3-2.7-22.4 1.3-2.6 1.3-3.2.1-4.9-.8-1.1-1.3-2.8-1-3.7.2-1.1-.5-2.5-2-3.5l-2.4-1.8 2.5-16.8c1.4-9.3 2.5-21.3 2.5-26.7 0-7.4.4-10 1.5-11 .8-.7 1.5-2.7 1.5-4.4 0-1.7.7-3.9 1.5-5 1-1.3 1.2-3.3.8-6.6-.5-4-.2-5.3 1.6-7.6 1.1-1.5 2.1-3.1 2.1-3.6s.9-2.1 2-3.7c1.7-2.2 1.9-3.2 1.1-5.3-.5-1.4-1.7-2.8-2.5-3.1-.9-.4-1.6-1.6-1.6-2.8 0-1.8.4-2 2.6-1.5 2.7.7 2.6-.1-.2-3.5-1.2-1.3-1-1.9 1.5-4.3 2.2-2.2 2.8-3.3 2.2-4.9-.5-1.4-.2-2.6 1.1-3.9 1-1 1.8-2.9 1.8-4.2 0-1.9-.7-2.5-3.5-3-4.1-.8-4.2-1.7-2-13.6 1.4-7.5 1.4-7.5-1.1-9.7-3.2-3-3.2-8.5.1-13.8 3.8-6.2 3-14.6-2.3-22.9-2.3-3.7-2.5-5-2.3-12.6.1-4.7 1.3-15.3 2.7-23.5 2.1-12.3 2.9-15.4 4.9-17.5 1.3-1.4 4.2-6.8 6.6-12l4.2-9.5.5-19c.8-30.7.7-32.4-1.7-40.3-2-6.6-2.2-9.4-2.2-29.6 0-28.4 3.8-60.2 8.2-68.8 1.6-3.2 1.9-5.9 1.9-19 .1-14.5.2-15.5 2.5-19.3 2.3-3.7 2.5-5 2.5-15.7 0-6.6.7-14.8 1.5-19 1.7-8.1 1.1-27.6-.9-30.2-.6-.8-27.7-11.6-60.2-24C648 6 631.3 0 628.4.1 626.3.2 605.8 2 583 4.2z"
	/></svg
>
