<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#gq)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="gq" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 3600 2400"
					><path fill="#e32118" d="M0 0h3600v2400H0z" /><path
						fill="#fff"
						d="M0 0h3600v1600H0z"
					/><path fill="#3e9a00" d="M0 0h3600v800H0z" /><path
						d="M0 0v2400l900-1200z"
						fill="#0073ce"
					/><g stroke="#000"
						><path
							fill="#fff"
							stroke-width="4.8"
							d="M1608 958.8h383V1360c0 135-176 31-191 103-26-74-191 33-191-111 0-140-1-393.2-1-393.2z"
						/><path
							fill="#73452b"
							d="M1827 1399s-5 5-14 1-10-257-10-257c20-22 36-29 36-29l12 10c-45 23-41 56-37 113 1 21 1 48 6 74 7 33 21 61 22 82 1 13-15 6-15 6z"
						/><path
							fill="#73452b"
							d="M1796 1108h18c-15 145-2 231-2 273 0 14 8 19 7 19-18 20-27-1-27-1z"
						/><path
							fill="#a36629"
							d="M1768 1399c-17 8-19-8-18-10 37-75 53-240 19-258l2-16c13 4 25 21 25 21 5 185 0 261-3 264-18 19-25-3-26-5"
						/><path fill="none" d="M1767 1396c-3-16 26-57 24-100M1816 1331c9 25 13 47 11 68" /><path
							fill="#009a3b"
							d="M1855 1040c6-7 6-7 17-7 2-15 27-15 29 4 20-4 24 8 16 20 19-5 36 0 31 22 34 9 21 33 6 38-2 15-16 20-35 14-24 17-38 11-49-6-27 4-29-2-41-17-21 9-25 9-43-2-1 14-6 10-15 9 1 18-6 26-22 20 12 25-19 36-34 15-14 1-15-3-22-8-6 20-28 17-32 6-28-4-25-19-2-20 2-16 16-13 25-11 1-10 7-8 12-6-3-7-1-11 8-13-13-17-5-23 8-29-7-16 5-15 14-16-1-17 4-20 22-22-2-6 1-11 11-11-6-17 2-20.9 20-18 3-24.7 56-13 52 21 15 2 20 5 24 17z"
						/><g fill="none"
							><path
								d="M1748 1031c4 2 9 0 10 11 8-14 18-6 18 10M1831 1023c-4 6-19 6-17 22-5-7-15-9-19-2M1855 1040c0 4-1 16-5 22M1917 1057c1 1-14 0-21 5M1954 1117c-4-2-12-7-18 1 0-4 0-15-11-15M1919 1131c0-10-2-13-4-16M1886 1117c-8-6-16 3-16 8M1828 1108c0-4-3-12 4-15M1714 1150c2-10 9-10 8-15-1-8-10-15-21-4"
							/><path
								d="M1722 1135c6-2 12-1 14 2M1705 1098c4-4 14-3 20 0M1725 1074c5 0 14-2 17 7 11-17 19-15 21-11M1783 1068c8-3 22 5 30 19 4-11 10-9 16-10M1867 1087c13-6 21 6 25 11 6-8 11-8 17-8M1746 1111c3-5 10-6 15-3-1-9 5-13 9-11"
							/></g
						><g fill="gold" stroke-width="3.5"
							><path
								d="m1787 902.6-22 1-11 19.7-12-18.8-22 .9 10-19.8-12-18.8 23-1 10-19.7 12 18.8 22-.9-10 19.8zM1693 909.9l-22 5.4-6 21.3-16-16-21 5.2 6-21.3-15-16.2 21-5.3 6-21.4 16 16 22-5.2-7 21.4zM1602 928.6l-20 9.9-1 22.2-19-12.2-20 9.8 2-22.2-19-12.3 20-10 2-22.2 18 12.2 20-9.8-1 22.2zM1816 902.6l22 1 10 19.7 12-18.8 22 .9-10-19.8 12-18.8-22-1-11-19.7-12 18.8-22-.9 10 19.8zM1910 909.9l21 5.4 6 21.3 16-16 21 5.2-6-21.3 16-16.2-22-5.3-6-21.4-16 16-21-5.2 6 21.4zM2000 928.6l20 9.9 1 22.2 19-12.2 20 9.8-1-22.2 18-12.3-20-10-1-22.2-19 12.2-20-9.8 2 22.2z"
							/></g
						><g fill="#fff" stroke-width="3.5"
							><path
								d="m2027 1352 25 36 23-34-16-29zM1868 1457l2 36s10 0 19-3c8-3 15-9 15-9l-1-19zM1734 1457l-2 35s-9 0-18-2c-8-2-15-7-15-7l-10-24zM1573 1352l-26 36-28-46 21-22z"
							/><path d="M1698 1529c0 34 206 34 206 0v-48c0 25-206 20-206 0z" /><path
								d="M1514 1418c18 92 184 94 184 94v-31c-4-12 3-16 30-20 11-1 6-17 6-17s-72 13-123-7c-69-28-79-82-79-82s-5 42-18 63zM2087 1418c-17 92-183 94-183 94v-31c3-12-4-16-31-20-11-1-5-17-5-17s72 13 123-7c68-28 76-82 76-82s7 42 20 63z"
							/><path
								d="M1527 1383c-46-25-10-51-6-125 7 45 58 64 52 93-21 1-31-31-41 4l-5 28zM2074 1383c46-26 8-51 4-125-7 45-57 64-51 93 20 1 30-31 40 4l7 27z"
							/></g
						><g stroke="none"
							><path
								d="m1555 1417 5 4-11 12c-4.403 4.803-5.467 7.98-2.41 10.905 3.797 3.63 6.466 2.368 10.41-1.905l12-13 4 4-11.99 13.989c-6.508 7.594-12.55 5.856-17.617 1.123-4.416-4.124-6.947-10.102-.454-17.454l12.1-13.6zM1575 1434l5 3-1 24 11-17 5 3-16 26-6-3 1-24-11 17-5-3zM1584 1476l14-28 5 3-13 27zM1606 1452l-11.04 28.98L1606 1485c10.29 3.75 15.12-.78 18.39-9.48 3.3-8.85 1.86-15.36-8.43-19.5L1606 1452zm3.96 7.02c10.35 3.6 10.98 7.53 8.16 14.64-2.73 6.75-5.28 9.39-15.12 4.32l6.96-18.96zM1639 1463l-18 27 6.96 2.04 4.02-7.02 12 3 1.02 7.02 6.96.96-6.96-31.98-6-1.02zm1.98 7.02 1.98 12-7.98-1.02 6-10.98zM1656.1 1465.6l-1.084 30.99 11.772.23c10.941.208 14.051-5.62 14.318-14.91.271-9.45-3.208-15.153-14.298-15.715l-10.708-.596zm6.003 5.377c10.964.044 12.838 3.543 12.453 11.195-.366 7.273-1.955 10.588-12.884 8.969l.43-20.164zM1761 1509v31.98h7.02v-12s6 .36 10.98-.96c3.93-1.02 6.66-3.54 6.75-9.75.09-6.09-3.45-9.27-9.57-9.27h-15.2zm7.02 4.98 7.05.09c5.88 0 4.77 8.91.18 8.91h-7.23v-9zM1797 1509l-13.02 31.98h7.02l3-7.98h13.02l3 7.98h6.96l-13-32h-7zm3 7.02 4.98 12h-9l4.02-12zM1817 1535l17-21h-15v-5h24v5l-18 21h18v6h-26zM1918 1473l6-1 3 18c1.067 6.401-1.858 10.764-6.414 12.445-5.19 1.914-11.806.164-12.586-8.445l5-1c1.165 5.152 3.237 5.599 5.636 4.791 1.904-.64 2.889-3.64 2.364-6.79zM1928 1471.2l5.92-1.123 2.74 14.98c1.172 6.409 3.183 9.135 7.351 8.407 5.174-.903 5.741-3.8 4.64-9.51l-3.68-15.98 6.057-.915 4.019 16.623c2.35 9.722-2.729 13.578-9.546 14.851-5.939 1.11-12.253-.399-14.322-9.987zM1959 1485l5-2c2.453 4.405 6.28 4.178 9.255 2.863 4.133-1.827 4.606-5.44 2.562-6.663-2.914-1.743-9.869.733-13.615-.634-4.482-1.635-6.406-4.156-6.177-8.032.276-4.666 4.381-7.23 8.846-8.615 4.996-1.55 9.926-1.003 13.129 5.081l-6 2c-1.953-3.287-4.466-3.131-6.697-2.078-1.866.882-4.784 2.538-3.222 5.206 1.277 2.18 8.626.765 12.498.923 4.004.164 7.24 2.836 7.781 6.687.755 5.368-1.234 8.276-7.44 10.697-7.667 2.99-14.583-.36-15.92-5.435zM1986 1460l-8 4-2-5 22-9 2 4-8 4 9 22-5 3zM1999 1449l5-3 14 26-5 3zM2033 1451l6-2c2.821 5.932-1.415 16.715-11.775 16.493-15.164-.325-16.805-17.027-14.421-22.536 4.005-9.252 15.224-9.075 20.196-3.957l-5 4c-3.17-4.067-10.212-1.504-10.688 2.237-.776 6.106 1.912 11.788 7.371 14.483 4.629 2.285 11.761-3.46 8.316-8.72zM2030 1430l5-4 18 24-5 4zM2049 1415l-4.98 4.02 10.98 30 4.98-4.98-3-6 9-8.04 6 3 5.04-3.96L2049 1415zm1.98 7.02L2061 1427l-6 6-4.02-10.98z"
							/></g
						></g
					></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M235 155.5c-1.4.8-5.8 2.2-9.7 3.1l-7.3 1.6v6.4c0 4.7.7 8.1 2.6 12.7 2.4 5.6 2.8 8.3 4 27.7 2.2 37.7 2.2 39.6-1 46.9-1.5 3.6-3.8 7.9-5 9.5-1.3 1.7-3.3 5.5-4.5 8.3L212 277l3.1 6.2c1.8 3.5 3.3 7.4 3.4 8.8.1 1.4 1 6.4 2 11.2 1.4 6.7 2.2 8.7 3.6 9.1 1.4.4 1.9 1.4 1.9 3.8 0 1.8 1.9 11.9 4.2 22.4 2.5 11.8 3.9 20.2 3.4 21.8-.3 1.4-2.9 5.5-5.6 9.1-2.7 3.6-6.2 8.9-7.6 11.9-1.8 3.6-3.9 6.2-6.4 7.7-2.1 1.3-4.5 3.8-5.4 5.7-.9 1.8-3.6 4.8-6.1 6.5-2.5 1.8-4.5 3.5-4.5 4 0 .4 2.5 1.5 5.5 2.3 4.1 1.2 5.5 2.1 5.5 3.5 0 1.7-.2 1.7-2.8.4-1.6-.7-3.9-1.5-5.2-1.6-2.4-.3-2.5 0-3.3 7.2-.7 6-1.6 8.9-4.8 14.5-2.2 3.8-4.8 7.9-5.7 9-3 3.5-8.9 7.5-14.4 9.6-5 1.9-5.6 2.5-9.3 9.5-3.7 6.9-7.9 11.4-13.1 14.2-1.2.6-2.5 2.3-2.8 3.7-.4 1.4-1.3 2.5-2 2.5-2.4 0-7.6 5-7.6 7.4 0 1.4-1.3 2.9-3.9 4.5l-3.9 2.5-.7 11.4-.8 11.4 4.7 4.7c5.6 5.7 6.1 8.2 1.4 7.5-2.9-.5-3.8 0-7.4 3.8-3 3-4.7 6-5.9 10.2-.9 3.2-3.3 8.2-5.4 11-2.2 2.9-4.1 6.8-4.5 9.1-.4 2.2-1.6 7.2-2.8 11.1l-2.2 7.2-5 .6c-6.1.7-5.9.4-9.1 12.3-.5 1.6-15.2 12.6-21 15.6-2.9 1.5-6 4.1-7.5 6.3-1.4 2.1-4.9 6.4-7.9 9.6-6 6.6-6 5.9-1.2 18.3 1.7 4.4 3.1 8.2 3.1 8.4 0 .2-.9.1-1.9-.2-2.2-.5-3.1 1.6-3.1 7.5 0 3-.6 4.2-3.3 6.2-1.9 1.5-3.7 2.6-4.2 2.6-2.1 0-8.2 6.9-10 11.3-1.9 4.7-2.5 5.2-7.5 6.9-6.4 2.2-10.3 5.4-8.1 6.7 1.9 1.2 1 7.2-2.4 15.1-1.8 4.1-2.7 8-2.6 10.8 0 2.3-.3 4.2-.8 4.2s-1.5 1.7-2.2 3.7c-.6 2.1-2.3 5.4-3.5 7.3-1.3 1.9-2.4 3.9-2.4 4.5 0 .5-1.4 3-3 5.4-3.3 4.9-3.8 8.7-1.5 13.1 1.1 2.2 2.3 3 4.3 3 2.2 0 3.5 1.2 7.3 6.8 4.5 6.4 5 6.8 10.9 8.5l6.3 1.8 2.6-2.5c1.5-1.5 3.7-2.6 4.9-2.6 3.6 0 13.2-3.3 13.2-4.6 0-.7 1.5-1.5 3.3-1.9 1.7-.4 4.8-1.9 6.7-3.5 3.4-2.6 3.7-2.7 7.9-1.4 3.9 1.1 4.8 1.1 7.1-.3 2.5-1.5 2.9-1.4 6.7 1.1 2.3 1.6 6.1 2.9 9.1 3.3l5.1.6 4.3 8c2.4 4.4 5.5 9.2 6.9 10.6 3.3 3.3 5.9 10.9 5.9 17.5 0 3.5.7 5.9 1.9 7.6l2 2.5 5.3-2.4c2.9-1.3 6.7-2.3 8.5-2.2 2.3.1 3.3-.4 3.8-1.8.4-1.4 1.9-2.3 4.3-2.7 5-.9 6.9-2 7.7-4.4.3-1.1 1.4-2 2.3-2 .9 0 3.8-1 6.4-2.2 3.4-1.6 4.6-2.7 4.1-3.8-.3-.8-.8-2.7-1.1-4.2-.4-2.5-.1-2.8 2.2-2.8 2.4 0 2.8-.6 4.8-7.5 1.9-6.6 2.7-7.9 7-11.4 3-2.4 6.4-4.2 8.8-4.6 5.5-.9 5.2-3.2-1-7.3-4.1-2.8-5.2-3.2-6.9-2.2-1.2.6-2.1 1.8-2.1 2.6 0 2.7-2.5.9-2.8-2-.5-4.4.6-7.9 2.3-7.2.8.3 2.2.9 3 1.2 1 .4 1.5 0 1.5-1 0-1.9.5-2 3.1-.6 1.2.7 1.9 2.1 1.9 3.9 0 2.2.7 3.1 2.9 4.1 2.5 1 3.5.8 6.9-.9 7-3.6 9.3-7.1 4.7-7.1-1.4 0-2.5-.1-2.6-.3 0-.1-.4-4-.9-8.7-.8-8.4-.8-8.5 2-11.5 2.7-2.8 6-10.7 6-14.2 0-1.2.3-1.3 1.5-.3 1.1.9 1.3 2.7 1.1 6.8-.4 4.6-.9 5.9-3 7.5-1.4 1-2.6 2.7-2.6 3.7 0 .9-.6 2.3-1.4 2.9-2.4 2-2.6 6.2-.3 9.3 1.1 1.5 2.4 2.8 2.8 2.8 1.3 0 2-3.3.9-4.4-1.8-1.8-1.1-3.6 1.5-3.6 2.3 0 2.5.4 2.5 4.5 0 3.6.3 4.5 1.8 4.5.9 0 2.2-.4 2.8-.8 1.6-1 12.4-14.3 12.4-15.2 0-.7 4.5-3 6-3 1.9 0 1 2.2-2.2 5.5-6.7 6.8-8.5 9.1-9.7 12.1-1.3 3.3-4.6 5.4-8.6 5.4-4.2 0-5.5 1.1-6.1 5.2-.5 2.9-1 3.8-2.2 3.3-.9-.3-3.5 1.4-6.8 4.5-4.2 4-6 5-8.7 5-4.9 0-8.9 4.4-8.6 9.6.1 2.1-.3 5.9-1 8.4-.6 2.5-1.1 4.8-1.1 5.2 0 .5 2.6.8 5.9.8 4.6 0 6.6-.5 9.5-2.5 4-2.7 9-3.2 17.3-1.6 11.1 2.2 11.3 2.2 11.3.2 0-1 .3-2.1.7-2.4 1.1-1.2 3.3 1.4 3.3 3.9 0 2.9 1.3 3.7 6.9 4 2.5.1 7.9.8 11.9 1.4 7.2 1.2 7.3 1.1 9.6-1.3 1.3-1.4 3.7-3.2 5.5-4.1 1.7-.9 3.1-2.1 3.1-2.6s1.3-.7 2.9-.4c1.6.3 3.2.1 3.5-.5.4-.5 1.2-4.5 1.8-8.8 1-6.6.9-8.2-.4-10.7-1.4-2.7-1.4-3.2.4-6.3 1.1-1.8 2.3-3.5 2.8-3.8.4-.2.7 3.2.7 7.8-.1 4.5.3 10.1.7 12.5.8 3.7.6 4.8-1.5 7.5-1.2 1.7-2.5 4.7-2.9 6.7l-.5 3.5-6.5.6c-4.2.3-8.8 1.6-12.9 3.6l-6.3 3 3.6 2.1c2 1.2 3.6 2.7 3.6 3.4 0 .7.9.2 1.9-1.1 1.5-2 2.3-2.3 5.2-1.7 1.9.4 5.4.9 7.9 1.2 4.2.5 7 1.3 11.4 3.6 1 .5 3.5.7 5.6.3 4.2-.7 6 .6 4 3-1.6 1.9-5.8 1.9-10.5-.1-2.1-.8-4.6-1.3-5.6-1.1-1 .3-2.6-.1-3.6-.9-1-.7-2.8-1.4-3.9-1.4-1.2 0-2.7-.7-3.4-1.5-1.6-1.9-4-1.9-4-.1 0 .8-1.1 2.7-2.4 4.2-2.2 2.7-2.5 2.7-6.5 1.6-4.2-1.3-5.3-2.8-2.6-3.8.8-.4 1.5-.9 1.5-1.3 0-1.4-7.6-3.1-13.4-3.1-6.2 0-6.8.8-4.2 5.8.8 1.6 1.6 6.6 1.8 11.5.3 8.2.4 8.7 2.8 9.5 1.5.6 3.5.5 5 0 3.7-1.4 13.1.2 16.5 2.7 4.1 3.1 9 5.5 11.3 5.5 2 0 8.2 5.9 8.2 7.8 0 .7 1.1 3.5 2.5 6.2 2.3 4.6 3.2 5.2 13.7 10.6 6.2 3.1 12.1 6.3 13.1 7.2 1.5 1.4 2.4 1.4 9.5-.2 4.2-.9 10-1.7 12.7-1.9l5-.2.3-5c.2-2.7.8-5.5 1.3-6.1.6-.7.4-2.2-.6-4-1.9-3.6-1.9-7.3 0-9.8.8-1.1 1.5-3.2 1.5-4.8V834l183.9-.2c173.3-.3 184-.4 185.8-2 1.6-1.5 4.7-1.9 18.4-2.4 15.8-.6 16.5-.7 19.1-3.1 2.4-2.3 4-2.7 13.5-3.5 5.9-.5 12.6-1.5 14.8-2.2 3.2-1 6.2-1 14.3-.1 9.7 1.1 10.5 1.4 14 4.7 2 1.9 5.3 4.7 7.4 6.2l3.6 2.7 73.9-.6c40.6-.3 87.8-.8 105-1.1l31.2-.6.3-282.2.3-282.1 5.8-11.2c3.1-6.2 5.7-11.4 5.7-11.6 0-.3-10.5-.7-23.2-1.1-12.8-.3-29.2-1.2-36.5-1.9-12.5-1.1-13.3-1.3-17.3-4.5-4.9-4-6.6-3.9-15.5 1.6l-6 3.7-252.5.5-252.5.5-6 2.7c-3.3 1.5-7.5 2.8-9.3 2.8-1.8 0-5 .9-7.2 2-5.4 2.8-7.4 2.5-11.7-1.4-2.2-1.9-5.3-3.6-7.3-3.9-1.9-.3-5.3-1.1-7.6-1.8-3.5-1.1-4.9-1-10.4.7-5.1 1.5-6.4 2.4-7.2 4.6-1.3 3.5-4.5 3.7-5.8.4-1.5-4-4.9-5.5-14-6.1-10.8-.8-16.6-2.8-18.4-6.4-1.2-2.3-2.5-2.9-7.7-3.9-4.2-.8-6.7-.8-7.3-.2-.6.6-2.2 1-3.7 1-2.1 0-2.9-.7-3.8-3-.6-1.8-1.7-3-2.8-3-4.4 0-9.4-2.2-10.3-4.5-.5-1.3-1.4-2.6-1.9-3-.6-.3-1.1-1.3-1.1-2 0-2.7-8.3-10.3-12.5-11.3-8.3-2.2-10.2-1.9-14 1.8-2.8 2.7-3.5 3-3.5 1.6 0-1 1-3.6 2.2-5.8l2.2-3.9-2.2-6.2c-1.2-3.4-2.2-7.9-2.2-10 0-4.2-.1-4.3-3.6-2.1-3.2 2.2-5.6.5-3.6-2.6 1.8-2.9 1.5-3.7-1.3-4.4l-2.6-.7 2.8-2.3c1.5-1.3 3.8-2.6 5.1-3 3.4-1.1 3-6.4-1-11.4-3.7-4.6-4.2-4.7-7.8-2.7z"
	/></svg
>
