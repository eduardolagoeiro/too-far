<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#cx)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="cx" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					viewBox="0 0 1000 500"
					><path fill="#0021ad" d="M0 0h1000v500H0z" /><path
						d="M0 0h1000v500z"
						fill="#1c8a42"
					/><circle cx="500" cy="250" r="90.32" fill="#ffc639" /><path
						fill="#1c8a42"
						d="M444.84 209.43c6.179 8.477 15.542 22.689 23.072 18.979 5.876.02 8.91.433 9.706 4.344 13.86 2.359 37.153-3.487 51.647-22.366 0 0 1.22.161.797-7.015.08-3.125 4.273-2.5 4.374-1.482.585 1.553.484 2.712 1.27 2.752 1.784-.595 4.223-4.596 6.27-7.136.554-1.119.251-2.298.382-3.71 1.079-2.65 3.77-2.076 4.335-.685.514.897.524 1.583 1.028 2.48 2.731 1.824 7.66.12 8.043.12.484-2.227 1.915-2.015 1.915-2.015 1.824-.403 1.109-.242 2.308.383-1.058 12.005 2.359 12.539 2.077 18.697.12 6.874-2.077 8.83-2.077 11.45.696 3.205 10.835 3.316 7.267 6.027-3.134 1.673.01 4.808-4.707 6.028-13.728 6.965-16.359 12.942-16.359 12.942s-3.447 6.511-3.83 6.511c-2.298 4.344-5.21 1.976-6.834 4.092-.806 2.661-1.713 8.558-.1 11.622.806 4.213-.101 6.512-1.11 10.724-.906 8.79-4.394 10.12-4.797 13.204-1.613 3.296.343 18.778-1.19 18.778-10.22.202-18.051-1.955-22.093-2.761 3.94-16.984 2.409-31.901 2.409-33.433-1.008-12.146-18.193-9.193-20.824-10.805-2.178-.464-3.548-2.238-4.314-3.004-2.43-.262-3.337-.816-5.766-1.068-1.21.604-.484 1.23-3.185 2.066-6.854.826-9.878-5.977-9.878-5.977.333-2.288-15.41.463-23.969-1.522-3.507 1.955-5.04 7.74-7.912 8.426-.08 1.794-4.727-1.472-5.665-3.235-.191-5.13 4.476-7.399 4.476-7.399 3.709-2.61 5.906-3.034 7.69-4.838.897-4.465.444-7.77 2.349-11.128 1.612-2.56 3.991-1.36 5.604-2.51 1.733-1.149 2.47-8.668.867-10.724 0 0-6.935-6.259-7.318-6.642-2.258-6.47 2.64-10.644 4.042-10.17z"
					/><path
						fill="#ffc639"
						d="M877.93 97.555c-4.092-16.194-40.721-51.071-68.247-73.265-6.572-4.477-10.855-1.81-9.999 4.573 3.427 5.716 5.998 12 9.425 17.716.957 3.81 2.761 6.477 3.719 10.286 0 0 .282 6.573.857 7.144 8.567 9.434 9.716 17.432 9.716 17.432 4.949 9.526 9.334 16.478 18.002 24.29 9.717 6.098 2.57 25.047 2.853 35.147 0 6.38-4.566 5.625-8.568 4.858-31.528-28.958-62.774-29.049-90.3-37.435-10.766-1.139-10.957 4.002-7.43 6.854 19.243 20.582 37.335 34.582 61.152 46.294l12.005 7.439c4.566 3.81 9.142 7.62 13.708 11.43 10.573 6.854 11.44 13.143 11.44 13.708.282 12.861-6.582 22.86-8.578 26.861-3.608 13.637-10.855 16.006-10.855 16.006-58.874 39.723-89.737 50.004-185.18 37.717-1.431-.756-10.573.766 0 4.576 24.291 8.094 83.961 21.076 141.69-6.26 13.86-9.716 23.132-6.53 33.171-12.346 16.49-10.17 40.035-22.83 44.32-24.251 12.86-6.864 48.864-14.575 57.16-21.44 9.514-.765 19.392-2.015 20.057-10.2 3.125-2.025 7.7-.544 11.097-7.216 7.55-1.31 6.28-4.012 6.28-4.012-1.905-5.332-8.961-7.529-14-11.43-7.44-2.48-12.58-3.245-18.012-.574-1.714.766-3.427 1.522-5.141 2.288 0 0-8.003-1.15-8.003-1.714-17.78-.977-16.046-59.902-22.336-84.478z"
					/><path
						fill="#1c8a42"
						d="M919.63 194.01a4.402 2.751 15.947 0 1-8.396-2.637 4.402 2.751 15.947 0 1 8.396 2.637z"
					/><g fill="#fff"
						><path
							id="a"
							d="m188.16 190.94-12.751-11.936-12.904 11.77 1.383-17.405-17.249-2.753 14.475-9.774-8.606-15.197 16.668 5.22 6.518-16.205 6.31 16.287 16.734-5.007-8.8 15.086 14.348 9.96-17.283 2.53 1.158 17.424z"
						/><path
							d="m233.39 335.53-13.752-9.167-13.391 9.664 4.712-15.568-13.582-9.415 16.667-.446 4.988-15.496 5.595 15.3 16.667-.156-13.21 9.902 5.307 15.382z"
						/><use xlink:href="#a" x="2.522" y="269.061" /><use
							xlink:href="#a"
							x="-112.066"
							y="123.223"
						/><use xlink:href="#a" x="108.427" y="85.027" /></g
					></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M942 58c-5.2 1-17.4 4.6-27 8-9.6 3.3-25.7 8-35.7 10.4l-18.1 4.3-12.9-2.1c-12-1.9-13.6-2.5-21.9-7.2-5.9-3.5-10.6-5.4-13.9-5.9l-5-.6-3.6 4.8c-3.1 4.1-4.1 6.7-6.3 17.3-2.2 9.8-3.5 13.6-6.3 17.9l-3.5 5.4 2 5.4 2 5.4-3.5 2.6-3.6 2.7.5 9.2.5 9.1-4.1 4.8c-2.6 2.9-5.9 5.4-8.6 6.5-4.3 1.7-4.6 1.7-10.4-.3-3.3-1.1-9-4.2-12.6-6.9l-6.7-4.8-5.1 1.5-5.1 1.5-.7 5.8c-1.1 8.1-1 11.7.5 29.7l1.4 16.1-3.9 8.8-3.9 8.8-17.5 13.6c-16.6 13.1-17.8 14.2-25.1 24.7-7.4 10.6-8.1 11.3-19.2 18.7-13.5 9-33.3 19.1-48.2 24.8-14.8 5.5-28.7 14.2-31.3 19.6l-2 4-53.3 18.6-53.4 18.5-21 1.8-21 1.7-11.9 5c-11.4 4.8-12.1 5-16 3.8-2.2-.7-7.6-3.3-12-5.8-4.4-2.4-14.6-6.7-22.5-9.3-11.8-4-15.8-4.9-21.6-4.9-3.8 0-9.9-.5-13.5-1-3.6-.5-13.9-1.4-23-2.1-9.4-.6-21.1-2.1-27.2-3.4-10.4-2.3-11-2.7-26.5-12.7-13-8.5-19.1-11.7-34.5-18.2-16.9-7.1-19.1-7.8-23.1-7.2-4.3.7-4.9.4-15.8-6.7l-11.4-7.5-9.8-16.6c-9.2-15.9-9.7-17-9.7-22.5v-5.7l-6.7-4.6c-3.8-2.5-10.2-6-14.3-7.8-4.1-1.8-10.8-5-14.7-7.2-9.5-5.2-13.4-4.8-18.9 1.8C95.8 236.5 88 255 88 261.4c0 3.2-1.3 9.1-3.6 15.9L80.8 288l2.2 14.3c3 19.5 6.9 28.7 15.9 38.1 4.9 5.1 8.4 7.7 13.7 10.1 3.9 1.8 9.2 5.4 12.1 8.1 5.1 4.9 5.2 5 12.2 26.4 6.7 20.2 7.1 22 7.1 30.5v9l-6 3.9c-4.9 3.1-6.9 5.3-10.1 10.8-8.5 14.6-12.3 27-13.9 45.8-1.7 19.2-2.5 22.9-6.3 26.9-1.8 2-3.8 4.8-4.4 6.2-.9 2.1-2.7 3-10.7 5.4-9.6 2.9-9.6 2.9-9.6 6.2 0 2.8-.4 3.3-2.4 3.3-2.1 0-2.7.9-4.6 6.5-1.6 4.9-3 7.2-5.8 9.4-3.5 2.7-4.2 2.9-10.2 2.4l-6.5-.5-5.8 4.9c-9.8 8.2-19.3 19.9-33.9 41.7l-14 20.8 2.8 11.2c1.5 6.1 3.1 11.6 3.6 12.3 2.3 2.9 12.9 7.7 24 10.7 11.4 3.1 12.3 3.2 18.6 2.1 9.6-1.7 26.9-9 31.6-13.4 2.1-2 7.9-9 12.9-15.6 18.8-24.8 26.9-33.2 38.5-39.8l4.1-2.3 24.8 3.4 24.8 3.4 12.5-1.6c6.9-.9 17.7-2.1 24-2.7 6.3-.5 14-1.3 17-1.7 3.9-.5 12.5.2 29.1 2.3l23.6 3 12.6 15c16 19.1 21.4 23.1 33.1 24.6 9.8 1.3 19.4.5 34.4-2.7 6.3-1.3 12.4-2.4 13.6-2.4 1.2 0 6.1 1.6 10.9 3.5 6.9 2.8 10 3.5 15.5 3.5 3.7 0 19.1 1.6 34.2 3.6 21.6 2.7 30.4 4.3 41 7.4 7.4 2.1 20.1 5.7 28.2 7.9 11.7 3.1 15.5 4.6 18.8 7.3 2.3 1.8 11.4 12.4 20.2 23.6 12.4 15.8 16 21.1 16.5 24 .2 2 1.8 6.3 3.4 9.4 2.9 5.6 3 6.2 4.5 32.3l1.5 26.7 4.5 13.2c2.5 7.2 6.2 19.9 8.3 28.3l3.8 15.1-2.4 12.4-2.5 12.3 2.7 12c1.5 6.6 4.6 18.1 7 25.5 2.4 7.4 5.5 18.7 7.1 25 2.3 9.8 3.5 12.6 7.8 19 2.7 4.1 6.1 8.4 7.5 9.5 1.4 1 5.5 4.7 9.2 8.2 7.3 7 15.7 11.4 25.6 13.3 9.5 1.9 39.5.8 50.8-1.9 5-1.2 14.4-2.6 21-3.2 15.5-1.4 24.1-4.4 30.9-11l5-4.7-.1-13.3c-.1-10.4-.7-16.1-2.7-25.2-2.8-12.6-3.3-23.1-1.6-33.2.5-3.3 1.7-12.8 2.5-21 .8-8.3 1.9-17.7 2.5-21 .5-3.3 1-10 1-14.8 0-5.7 1.2-15.4 3.4-27.5 1.9-10.3 4-22.3 4.6-26.7 1.1-6.8 2.1-9.5 7.3-18.5 3.3-5.8 8.2-13.7 10.8-17.7 3.5-5.4 4.8-8.5 5.3-12.7.6-4.8 1.2-5.8 3.9-7.5 1.8-1.1 6.9-5.8 11.5-10.4l8.2-8.5v-22l-7.5-15.7-7.5-15.8V574l7.6-13.4 7.7-13.3 9.2-4.9 9.3-4.9 1-7.7c1.6-10.7 6.3-19.7 13.9-26.4 5.1-4.4 6.9-5.3 15.1-7.4 5-1.3 9.2-2.9 9.2-3.5 0-.6.7-6.4 1.5-12.8l1.4-11.8 12.7-19.9c10.2-16.2 14-21.3 19.8-26.6 3.9-3.7 8-7 9.1-7.4 3.4-1.2 30.2-3.3 34.3-2.7 3.5.6 4.1.4 6.1-2.3 1.8-2.6 2.8-3 6.7-3 3.7 0 6.4-1 13.3-4.9 4.7-2.6 12.3-6 16.9-7.5 7.8-2.6 8.2-2.9 8.2-5.7 0-2.3 1.4-4.2 6.6-9.2l6.7-6.3-21.2-15.7c-18.5-13.7-21.1-16-21.2-18.4 0-1.5-1-13-2.2-25.5l-2.3-22.8 2.4-4.7c1.3-2.7 5.2-7.7 8.7-11.3 3.4-3.6 6.7-7.4 7.3-8.5.5-1.1 1.3-5.6 1.7-10 .3-4.4 1.3-11.9 2-16.7 1.3-8.3 1.3-9-.9-16.1-1.3-4.2-4.8-11.5-8.1-16.8-9-14.5-15.5-29-15.5-34.7 0-2.6-.7-7.2-1.5-10.2-.8-3-1.5-8.5-1.5-12.2 0-6-.4-7.3-3.9-13-2.9-4.7-4.3-8.5-5.5-15.1-1.7-8.9-1.7-8.9.8-18.5 2.4-9.5 3.2-18.9 2.8-32.3l-.2-6.7-6.9-3.6c-3.8-2-7.1-3.6-7.2-3.5-.2 0-4.7.9-9.9 1.9z"
	/></svg
>
