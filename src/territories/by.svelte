<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#by)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="by" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					viewBox="0 0 900 450"
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					><rect fill="#D22730" width="100%" height="100%" /><path
						d="M5 0h100v450H5z"
						fill="#fff"
					/><g id="b"
						><path
							id="a"
							d="M572 0v163h-44V0zM10 285h79v-65h40v-79h56V72h46V0h139v72h45v69h56v79h40v65h61v101h-61v65h-40v79h-56v69h-45v74h-32v62h-75v-62h-32v-74h-46v-69h-56v-79H89v-65H10m0-352h79v90H10m310 27h-41v61h-39v77h-38v95h38v77h39v60h41v-60h39v-77h39v-95h-39v-77h-39zm4 139v90h-49v-90zM10 526h79v97H10m562-88v137h-44V535zM464 687v68h48v70h60v92h-60v71h-48v68h-56v-68h-48v-71h-40v-92h40v-70h48v-68zM10 825h79v-70h48v-68h55v68h48v70h40v92h-40v71h-48v68h-55v-68H89v-71H10m447-90h-41v87h41zm-271 0h-41v87h41zm16 1441v-47h-34v-71h-45v-43H89v-69H10v-160h79v46h34v67h45v80h64v-72h47v-53h34v-63h45v-67h33v-68h32v-70h43v-94h-57v-85h-62v-51H243v74h60v67h-40v82h-47v72h-59v-72h-49v-82H78v-67H10v-127h79v-82h30v-63h28v-72h40v-71h39v-47h47v-71h57v71h47v47h40v71h39v72h32v62h32v54h52v397h-59v67h-17v70h-44v68h-27v50h-28v53h-48v52h-69v145m292-1213v137h-44v-137zm-562 26h79v97H10m0 486h79v97H10zm560 246v88h-42v-88zm-58 358v-55h-26v-43h-38v-129h38v52h40v76h44v98m-214 0v-64h42v64"
							fill="#D22730"
							transform="scale(.1)"
						/><use transform="matrix(-1 0 0 1 110 0)" xlink:href="#a" /></g
					><use transform="matrix(1 0 0 -1 0 450)" xlink:href="#b" /><path
						d="M105 300h795v150H105z"
						fill="#009739"
					/></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M533 79c-3.7 3.2-5.3 3.9-8.7 4-4.7 0-4.6-.1-6.1 8.9-.8 4.8-.4 4.5-9.4 6.5-2.1.5-3.1 1.8-5 6.6-1.7 4.5-3.2 6.7-6 8.5-3.1 2.1-3.8 3.3-4.8 8.1-.7 3.1-1 9.4-.8 14l.3 8.4h-8.4c-5.9 0-10.5-.6-15.2-2.2l-6.7-2.1-3.1 2.2-3.2 2.3-5.4-3.6c-7-4.6-13.8-4.9-22.4-1.1-5.4 2.5-5.7 2.8-8.5 9.9l-3 7.3-5.5 1.8c-3.1 1-8.6 2-12.3 2.3-6.4.4-6.9.6-8.8 3.9-1.5 2.5-2 5.2-2 10.1v6.7l-4.5 2.8c-2.5 1.6-4.5 3.3-4.5 3.8 0 .6.9 2.8 2.1 5l2 4.1-4.5 4.8c-2.7 2.9-4.6 5.9-4.6 7.2 0 1.3-1.4 4.3-3 6.8s-3 5-3 5.6c0 .5 1.6 2.5 3.5 4.4l3.5 3.4 7-1.2c4.8-.8 8.4-.9 11.7-.2 2.7.5 6.1 1.1 7.7 1.2 2.3.2 3.2 1 4.1 3.9 1.2 3.4 1.2 3.6-2.4 6.6-2 1.7-6 4.5-8.7 6.2-4.6 2.8-5.2 3.6-6.4 8.5-.7 3-1.6 6-2 6.6-.5.8-3.4.3-10.6-1.9-13.5-4.2-17-4.1-21.6.6-3.2 3.3-3.9 5-5.5 12.5l-1.7 8.7-10.1 4c-5.5 2.2-12 4.5-14.5 5.1-2.5.7-8.4 3.2-13.2 5.7l-8.8 4.5v7.7c0 7.3-.2 7.9-3 10.6-1.7 1.6-3.6 5-4.4 7.8-1.4 4.6-1.3 6 .6 16.2l2.1 11.3-3.2 5.3c-1.8 3-4.5 6.6-5.8 8.1-2.2 2.3-2.5 3.3-1.9 6.7l.6 4-7.5 5.7c-6.1 4.6-7.4 6-7 7.8.3 1.1.9 4.1 1.3 6.6.7 4.3.9 4.5 4.4 4.8 2.7.2 4.8-.4 7.5-2.2l3.7-2.6 4.3 6.8c2.4 3.7 4.5 7.6 4.9 8.7.3 1.2-.2 5.4-1 9.5-.9 4.1-1.6 7.8-1.6 8.2 0 .4-1.5 1-3.4 1.3-4.3.9-22.1-2.6-22-4.3.1-.7.2-2.7.3-4.6.1-2.7.6-3.6 2.7-4.3l2.6-.9-3.6-4.3c-2-2.4-4.5-5.4-5.5-6.8l-1.9-2.4-6.7 3.7c-6.5 3.6-6.7 3.6-12.2 2.5-3.1-.6-6-1.1-6.4-1.1-.4 0-1 1.9-1.4 4.2-1 6.4-6.7 14.4-11.9 17l-4.4 2.1-3-2.5c-1.6-1.4-5-3.1-7.5-3.8-4.4-1.2-4.9-1.1-9.9 1.8l-5.3 2.9v6.9c.1 3.8.4 9.2.9 11.9l.8 5.1-4 2.8-4.1 2.8-5.6-3-5.6-3.1-6.7 3.2c-3.7 1.7-10.6 6.2-15.4 9.9-7.4 5.8-9.2 6.8-12.6 6.8h-4.1l-.6-4.8c-.3-2.6-.7-5.4-.8-6.2-.1-.8-2.1-2.8-4.5-4.4l-4.2-3-4.4 4.3-4.3 4.2-8.6-1.8c-7.7-1.5-9.1-1.6-13.4-.3-7.6 2.3-24.9 1.4-33.1-1.6l-6.5-2.5.6 11.8c.4 6.5 1.4 14.7 2.2 18.3.8 3.6 2.2 13.9 3 22.8 1.4 14.9 2.1 18.2 7.6 36.5 3.4 11.1 7.8 23.8 9.9 28.2 2 4.4 4.4 11.9 5.4 16.6l1.8 8.5-2.4 4.9-2.5 4.9 2.3 5.5c3.4 8.5 3.6 10.7 2.5 37.3l-.9 24.8-3.6 4.8c-3.1 4.3-4.5 5.3-11.8 8-5.7 2.2-10.9 3.3-16.9 3.8l-8.5.6-9.4 7.7c-8.7 7-10.5 9.2-21.7 25.6-6.7 9.9-12.9 19-13.8 20.2-1.5 2-1.4 2.4 1.5 7.1 2.5 4.1 3.6 5 6.8 5.6 2 .3 7.5 2.8 12.2 5.4 7 3.9 9.1 5.7 11.9 10 1.8 2.8 4.1 5.2 5 5.2.9 0 3.3 1.7 5.3 3.7 3.1 3.2 3.9 5 4.8 10.6 1.2 6.7 1.2 6.9-1.9 12.6-1.8 3.4-3.1 7.4-3.1 9.4s-.5 5.8-1.2 8.6c-1 4.4-.9 5.6.5 8.7l1.7 3.5-5.3 2.4-5.4 2.3-1.3 8.4c-.8 4.5-1.4 10.5-1.4 13.3 0 5.9 1.9 21.4 2.8 22.2.3.4 2.4.1 4.7-.6 3.9-1.2 4.1-1.4 3.5-4.4-.3-1.8-.8-5.1-1.2-7.3l-.6-4.2 5.1-1.1c10.8-2.3 23.3-.3 24.6 4 .6 1.8 5.9 3.9 9.8 3.9 1 0 4.5-1.8 7.7-4 3.3-2.2 9.9-6.2 14.7-8.8 8.6-4.6 8.8-4.9 10.6-10 .9-3 2.2-8.6 2.8-12.6l1.1-7.2 7.6-2.9c9.4-3.6 22-4.7 37-3.3 15.2 1.4 34.3-1 41.2-5.3 3.3-2 6.8-3.2 10.5-3.6 5-.5 6.4-.2 13.3 3l7.7 3.7 18.8.6c13.7.5 19.7.4 22.5-.5 3.4-1.1 4.5-1 12.1 1.9 7.8 2.8 9 3 17 2.4l8.6-.6 5.8 5.1 5.8 5.1H349l2.2 4.5 2.2 4.5H375l15.2 6.1c12.4 4.9 15.9 5.9 18.8 5.4 1.9-.3 7.6-.8 12.5-1.1 7.9-.4 9.3-.2 11.3 1.5 2.3 2 2.3 2.1.7 7.9-2.1 8.5-2 8.9 2.3 9.6 9.8 1.7 9.1 1 8.5 7.7l-.6 5.9h6.2c4.7 0 7.3-.6 10.4-2.4 5.6-3.1 10.2-3.9 11.7-2.1.7.8 2.5 1.5 4 1.5 12.2 0 15.6 2.7 12.6 10-.9 2.2-1.6 5.6-1.6 7.4 0 3.2.3 3.4 4.7 4.5 4.2 1.1 4.8 1 6.6-.8 1.9-1.8 1.9-2.5.9-8.9-1-6-.9-7.6.6-12.1l1.7-5.2 6 4.2c3.3 2.3 7.2 5.6 8.7 7.3l2.6 3.1 8.7-4.3c6.2-3 9.1-5.1 10.3-7.3 2.8-5 3.5-5.6 7.5-6.2 3.6-.6 3.7-.5 3.7 2.7 0 2.3.9 4.1 3.4 6.5 2.1 2 3.8 5 4.5 7.7.6 2.4 1.4 4.4 1.7 4.4 1.4 0 8.1-4 9.8-5.9 1.9-2.1 5.8-2.6 10.2-1.3 2.9 1 15 15.4 16.4 19.7 1.1 3.5 4.7 6.1 10.8 7.9 2.1.7 2.2.5 2.2-4.5 0-2.8 1-7.9 2.2-11.1 1.9-5.3 2.6-6.2 6.9-8.4 3-1.5 6.5-2.4 9.3-2.4 4.3 0 4.7-.2 6.5-3.9 3-5.9 7.4-9.1 12.4-9.1 6.4 0 8.7.9 8.7 3.4 0 1.1 1.2 5.2 2.6 9.1 1.4 3.8 3.2 9.9 3.9 13.5.7 3.6 2.6 9.4 4.1 12.8l2.7 6.4 4.6-.6c6.8-.9 15.2-5.2 17.6-8.9 1.3-2 3-3.3 4.7-3.5 1.8-.2 2.9-1.1 3.6-3.1.8-2.2 1.9-2.9 5.6-3.8 4.4-1 5-.9 7.6 1.4 1.6 1.3 3.2 3.2 3.5 4.2.3 1.1 2.7 2.4 6.4 3.6 5.9 1.8 5.9 1.8 9.3-.5 1.8-1.3 5.1-4.3 7.3-6.8l4.1-4.5 9.4-.4c5.2-.3 11-.1 12.9.4 3 .8 3.7 1.6 5.1 5.8 1.4 4.5 2.1 5.3 6.7 7.5 5.2 2.5 5.2 2.5 5.1 7-.1 2.5.4 6.4 1 8.7 1.1 3.6 1.8 4.3 5.7 5.6 2.4.9 6.4 2.9 8.9 4.6 5.5 3.8 7.4 3.9 8.7.3.6-1.5 2.5-4.3 4.3-6.2 5-5.2 5.4-9.4 1.6-18.2-2-4.8-3-9-3-12.2 0-6.5-1.8-11.2-4.7-12.5-2-.9-2.3-1.7-2.3-7.1 0-5 .7-7.4 3.6-13.3 2-3.9 4.5-8.4 5.5-9.9 1.1-1.4 1.9-3.4 1.9-4.3 0-2.6 7.6-21.2 10.1-24.6 1.1-1.6 3.4-3.6 5-4.4 2-1.1 2.9-2.3 2.9-4 0-1.8.7-2.6 2.4-3.1 1.3-.3 4.1-2.3 6.2-4.5 2.1-2.1 4.5-3.9 5.4-3.9 1.7 0 5-3 5-4.4 0-.5-1.1-1.7-2.5-2.8-2-1.5-2.5-2.8-2.5-6.1 0-6.8.3-7 13.2-6.6 11.1.4 11.5.5 15.5 3.7 5.7 4.5 7.3 4.3 7.3-1.1 0-4.2.2-4.5 4-6.2 3.5-1.6 5.8-1.7 19.3-1.2 13.1.6 16.2.4 22.5-1.2 4.1-1.1 7.5-2.1 7.6-2.3 0-.2.9-1.3 1.9-2.4 1.8-2.1 1.7-2.3-3-9-3-4.3-4.9-8.2-5.3-10.8-.5-3.6-.9-4.1-4.7-5.3-2.6-.9-5.1-2.7-6.5-4.5-2-2.9-2.1-3.5-1-8.8.9-4 .9-6.6.2-8.5-.5-1.4-1-4.4-1-6.6 0-2.2-.9-5.7-2-7.9-2.2-4.3-1.7-7.3 2-11 2.8-2.8 2.6-3.3-2-6.4-2.2-1.4-4-3.4-4-4.4 0-.9-1.4-4.6-3-8l-3-6.4 2.5-3c2.3-2.7 2.5-3.8 2.5-11.8 0-10.5-.4-11.2-11.8-18.8-6.1-4.1-8.4-6.4-13.3-13.8-5-7.6-5.9-9.6-5.9-13.4 0-5.2.3-5.8 4.9-9 3.3-2.3 3.3-2.4 2.8-7.9-.5-5-.3-6.1 2.3-10.2l2.9-4.7 6 1.3c5.4 1.1 6.3 1.1 9.1-.6 3.5-2.2 9.1-2.4 17.3-.8 5.2 1.1 5.7 1.4 5.7 3.8 0 5.3 1 6.6 6.3 8.5 3.4 1.2 8.8 2 15.5 2.3 9.4.4 11.1.2 18-2.3 11.9-4.2 14-5.3 16.1-9 1.5-2.5 3.1-3.6 6.3-4.5 6.3-1.6 9.5-6.2 10.4-15l.7-6.9 3.6-.5c2-.3 5.9-1.7 8.7-3.2 3.8-1.9 6-2.4 8.3-2l3.1.6v-7.3c0-4.1-.5-9.7-1.2-12.4-1-4.5-1.5-5.2-5.2-6.8-2.3-1-5.7-3.6-7.6-5.7-2-2.1-7.2-5.6-11.9-8-8-4-8.5-4.4-9.7-8.5l-1.2-4.3 3.8-2.7c2.1-1.5 4.6-3.2 5.6-3.8 1.8-1 1.7-1.4-1.6-5.2-3.1-3.6-3.9-4.1-6.9-3.7-2.8.3-4.2-.3-8-3.4-4.7-4-13.8-8.9-20.2-11-3.2-1-4.3-.8-10.7 1.9-5.8 2.5-8.5 3-14.7 3-7.3 0-16.5-1.6-16.5-2.8 0-.4 2.3-7.2 5.1-15.1l5.2-14.4-5.7-11.4-5.7-11.3h-5.3c-4.8 0-5.8-.4-11.5-5-3.5-2.8-8.2-6-10.5-7.1-2.2-1.2-7.8-4.2-12.3-6.7-8-4.5-8.1-4.7-8.8-9.2-.8-5.5-6.4-33.2-6.7-33.5-.2-.1-3.3-1-6.9-2-5.2-1.3-6.9-2.3-7.8-4.2-1.8-4-1.3-6.6 2.4-10.4 3.4-3.4 7.3-13.3 5.7-14.3-.4-.2-5.1-1.4-10.4-2.6-9.8-2.2-9.8-2.2-10.8-5.9-.5-2-1-4.1-1-4.8 0-.6-4.5-4.5-10-8.5-9.8-7.2-10-7.4-10-11.4 0-3 .6-4.6 2.5-6.4 2.2-2 2.5-3.2 2.5-9 0-6.2.2-6.7 3-8.3 2.6-1.6 2.8-2.1 2-4.3-1.7-4.4-1.4-4.7 4.6-4l5.7.6-.7-3.7c-.4-2.1-.9-6.3-1.2-9.3-.3-3-1-8.1-1.6-11.2-1-5.3-1.5-6.1-6.2-9.7-3.8-2.8-5.5-4.9-6.4-7.8-.7-2.2-2.1-4.8-3.2-5.8-1.6-1.4-2-3.1-2-8v-6.2l5-2.3c2.8-1.3 5-3 5-3.8 0-.8-.7-3.8-1.6-6.8-1.1-3.9-1.2-5.8-.5-7.3.6-1.1 1.1-7 1.1-13.2v-11.2l-9 .6-9 .6-1.9-3.7c-1.6-3-3-4.1-8-6l-6.2-2.4.6-5.6.6-5.7-6-3.4c-5.5-3.1-6.1-3.8-6.1-6.7v-3.1l-7-.7c-6.1-.6-7.6-1.2-12-4.7-2.7-2.1-5.4-3.9-6-3.9-.6 0-2.8 1.1-5 2.5-4.8 3-4.8 3-10.4.4-4.4-2.2-4.4-2.2-13-.4-8.6 1.8-8.6 1.8-14.2 8.2-4.9 5.5-6 6.3-9.1 6.3-3.3 0-4.5.9-12.3 9.2l-8.6 9.1-5.9-6.7c-7.4-8.3-8.9-12.7-7.4-21.1.6-3.3 2-8 3.1-10.4l1.9-4.4-2.3-2.4c-1.2-1.3-6.1-5-10.8-8.2-9.4-6.5-14.8-8.1-26.8-8.1h-6.4l-8.9 7.1-8.9 7.1-4.9-3.6c-4.4-3.3-4.9-4-5.4-8.7-.7-5.7-5.2-11.9-9.8-13.7-3.1-1.2-19.7 1.8-24.1 4.3-3.6 2.1-5.4 1.9-10.4-1-3.6-2.1-5-4-8.5-11-2.3-4.7-4.5-8.5-4.8-8.5-.3 0-2.6 1.8-5.1 4z"
	/></svg
>
