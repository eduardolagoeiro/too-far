<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#ai)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="ai" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 1200 600"
					><clipPath id="a"><path d="M0 0v150h700v150H600zm600 0H300v350H0v-50z" /></clipPath><path
						fill="#012169"
						d="M0 0h1200v600H0z"
					/><path d="m0 0 600 300m0-300L0 300" stroke="#fff" stroke-width="60" /><path
						d="m0 0 600 300m0-300L0 300"
						stroke="#c8102e"
						stroke-width="40"
						clip-path="url(#a)"
					/><path d="M300 0v350M0 150h700" stroke="#fff" stroke-width="100" /><path
						d="M300 0v350M0 150h700"
						stroke="#c8102e"
						stroke-width="60"
					/><path d="M0 300h600V0h200v400H0z" fill="#012169" /><path
						fill="#cc3"
						d="M780.583 154.039c0 148.827 11.873 201.675 52.606 242.479 40.734 40.804 56.166 47.231 67.524 53.483 13.101-7.212 28.197-15.134 65.115-52.052 36.513-36.515 54.173-89.15 54.173-246.452-26.56 11.37-39.786 15.117-63.012 15.05-17.202 1.686-43.74-9.337-59.609-16.547-10.37 6.602-25.415 14.476-52.451 15.36-31.225 1.31-41.12-3.735-64.345-11.322z"
					/><path
						fill="#fff"
						d="M787.775 163.438c0 46.043-2.722 108.794 7.006 145.1 9.77 36.462 12.013 41.803 19.36 54.528l171.206-1.27c10.576-18.319 11.11-29.666 18.953-58.936 7.814-29.165 9.788-94.177 10.016-142.6-17.216 8.725-39.761 14.908-61.643 12.195-17.543-1.275-33.752-5.092-52.627-15.264-16.374 9.353-22.082 13.622-49.119 14.714-21.05.99-38.101 2.615-63.152-8.468z"
					/><path
						fill="#9cf"
						d="M814.51 362.056c12.185 24.448 69.632 71.303 86.433 81.003 19.168-11.067 69.848-57.368 83.973-81.003H814.51z"
					/><path
						fill="#f90"
						d="M904.221 231.606c5.414 12.14 22.77 25.545 27.541 32.114-6.073 6.57-7.287 5.854-6.49 18.06 10.56-10.535 10.75-11.633 17.542-10.035 14.88 14.155 2.663 44.557-9.634 51.166-12.294 7.051-10.062-.244-28.489 8.593 8.449 6.887 18.237-1.01 26.236 1.1 4.347 4.918-2.066 13.879 1.313 22.318 7.07-.65 6.22-14.256 7.866-19.19 5.164-18.076 36.214-30.683 37.793-47.263 6.546-2.93 13.09-.917 21.05 3.345-3.964-15.534-17.079-15.367-20.594-20.218-8.368-12.19-15.785-26.098-33.657-29.706-13.567-2.739-12.553.824-21.247-4.83-5.414-4.018-21.861-11.618-19.23-5.454z"
					/><path
						fill="#f90"
						d="M860.839 283.106c8.73-10.234 13.053-31.127 16.917-38.218 8.93 2.05 8.833 3.408 19.78-2.965-14.703-3.981-15.81-3.628-17.501-10.1 6.177-19.155 40.078-23.06 51.953-15.781 12.282 7.068 4.474 8.596 21.278 20 2.44-10.34-9.457-14.901-11.236-22.63 2.53-5.961 13.836-4.741 20.084-11.532-3.905-5.656-16.127 1.416-21.471 2.334-19.177 4.091-45.373-16.193-61.488-9.778-5.776-4.15-6.965-10.606-6.732-19.307-12.554 10.598-6.272 21.575-9.129 26.805-7.397 12.748-16.83 25.497-11.827 42.248 3.798 12.716 6.629 10.197 5.447 20.166-1.198 6.441-.562 23.856 3.925 18.758z"
					/><path
						fill="#f90"
						d="M931.763 290.302c-13.703-1.828-34.694 5.451-43.059 5.967-2.778-8.347-1.51-8.97-12.893-14.605 4.032 14.055 4.922 14.776-.013 19.504-20.39 4.868-41.432-20.773-41.04-34.226-.009-13.678 5.401-8.097 6.946-27.707-10.543 3.357-8.485 15.424-14.502 20.874-6.66 1.02-11.413-8.837-20.74-10.422-3.058 6.111 9.613 12.426 13.201 16.311 13.592 13.53 8.935 45.397 23.029 55.227-.738 6.86-5.918 11.17-13.85 15.48 16.009 4.76 22.613-6.043 28.785-6.417 15.27-.56 31.594.542 44.043-12.205 9.45-9.676 5.724-10.682 15.285-14.875 6.401-2.355 21.705-11.882 14.808-12.906z"
					/><circle
						fill="#fff"
						cx="266.239"
						cy="122.104"
						r=".806"
						transform="matrix(3.50845 0 0 3.34488 6.33 -163.011)"
					/><circle
						fill="#fff"
						cx="266.239"
						cy="122.104"
						r=".806"
						transform="matrix(-1.639 -2.95744 3.10207 -1.56258 914.323 1224.328)"
					/><circle
						fill="#fff"
						cx="266.239"
						cy="122.104"
						r=".806"
						transform="matrix(-1.80698 2.86712 -3.00733 -1.72273 1749.003 -240.213)"
					/></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M1003.5 211.7c-1 1.5-1.9 3.9-1.9 5.3-.1 1.6-.8 2.6-2.1 2.8-1.1.2-3.2 1.5-4.6 2.9-2.3 2.1-2.8 3.7-3.4 9.9l-.7 7.4h-3.7c-3.1 0-4 .5-4.9 2.5-.7 1.4-2 2.5-3.1 2.5s-2.2.4-2.6.9c-.3.5-2 1.3-3.8 1.7-3.5.7-12.9 6.8-18.9 12.2-4 3.6-5.3 8.7-2.4 9.8 1.2.5 1.3 1.1.4 3-1.5 3.2-6.3 4-16.1 2.5-5.1-.8-11.9-1-19.4-.5l-11.5.7-9.4 7.3c-8 6.3-10 7.4-13.3 7.4-2.1 0-4.4.6-5 1.4-.7.8-4.2 2.4-7.9 3.6-3.6 1.2-8 3.4-9.7 4.9-1.7 1.5-5.8 3.8-9 5.1-5.2 2.1-6.2 2.2-10.4 1.1-6.4-1.6-10-6-9.1-11 .4-2 1.3-4.8 2-6.4 1.8-3.8.3-5.2-3.6-3.2-1.9 1-4.2 1.3-7 .9-4.5-.6-16.6 2.5-19.4 5.1-2.1 1.9-7.8 4.2-13.7 5.5-9.5 2.1-12.3 3.1-12.3 4.3 0 1.4-12.8 8.5-21 11.7-3 1.2-7.6 3.5-10.1 5.1-2.6 1.6-5.9 2.9-7.8 2.9-3.7 0-9.1-3.6-9.1-6.1 0-1-1.8-3.9-4-6.4-2.2-2.5-4-5.6-4-6.9 0-3.2-1.2-4-2.4-1.7-.6 1.1-5.1 5.3-10 9.5-10.7 9.2-22.1 14.9-35.1 17.6-4.9 1-13 3.5-18 5.5-6.3 2.6-12.1 4.1-19.2 5l-10.2 1.3-9 8.1c-8.3 7.4-9.4 8.1-13.3 8.1-5.5 0-19.4 5.8-27.2 11.3-4.4 3.1-6.2 5.1-6.8 7.4-.6 2.4-1.4 3.3-2.9 3.3-2.2 0-9.5 3.4-12.1 5.7-.9.8-4 2.7-7 4.2-4.5 2.3-5.3 3.2-5.6 5.8-.3 3-.5 3.1-7.4 4.1-4 .6-8.3 1.9-9.7 3-2.2 1.6-2.5 2.5-2.2 6.5.3 5.4-1.4 6.9-5 4.3-3.3-2.3-5.6-.4-7.5 6-2 7.1-7.3 11.4-14.1 11.4-2.3 0-4.3.4-4.3.9s-1.1 2.3-2.5 3.9l-2.5 3 4.1 2.6c2.2 1.5 7.6 6.1 11.8 10.2l7.8 7.4.1 7.6c0 5 .6 8.3 1.6 9.9 2 3 2 5.1.1 5.9-2.2.8-1.8 2.4 1.5 6.3 2.7 3.1 3 4 3 10.4 0 6.9-.1 7-5.1 13.4-4.4 5.4-7.5 7.8-20 15.6-8.2 5-14.9 9.7-14.9 10.5 0 2-3.7 3.9-10.1 5.3-3.1.6-7.1 2.3-9 3.6-2 1.6-4.6 2.5-6.8 2.5-2 0-6 1.1-8.9 2.5-7.8 3.6-14.9 5.5-20.7 5.5-7.9 0-16.5 5.5-31.6 20.1l-12.4 12 11.1-.4 11.2-.4 1.1 3.7c2.6 8.7-.4 29.3-4.8 32.7-10.5 8.1-14.6 9-30.6 6.1-13.2-2.4-22-2-31.5 1.6-3.6 1.3-10.1 2.9-14.5 3.6-6 .9-10.7 2.4-18.5 6.2-12 5.8-12.2 5.8-39.4 3.3l-15.1-1.4-3.1 3-3.1 3-14.4-.3-14.4-.2-7.5 3.8c-4.1 2.1-10.1 5.6-13.2 7.8-5.7 3.8-5.8 3.9-5.8 8.7 0 3.7-1 6.7-4.1 12.7-3.5 6.8-5.8 9.5-16.2 19.3l-12.2 11.3-8.1-.5c-5.7-.3-8.8-.1-10.5.9-1.3.7-3.4 1.3-4.6 1.4-1.8 0-2.5.9-3.4 4.4-1 4-2.2 5.4-11.7 13-5.9 4.7-11.4 8.6-12.3 8.6-2.5 0-9.9 5.4-16.4 11.9-5.4 5.5-6.3 6.1-10.1 6.1-3 0-4.8-.6-6.5-2.4-2.1-2.1-3-2.3-6.5-1.7-2.2.4-6.5 2.1-9.4 3.7-5.5 2.9-5.5 2.9-6 8.4-.6 6.9-2.1 9-8.7 12.4-3.8 1.9-5.3 3.2-5.3 4.7 0 3.1-1.8 5.7-5 7.4-1.7.9-4.1 3.3-5.5 5.5-2 3.1-3.1 4-5.4 4-3.5 0-9.1 1.9-9.1 3.1 0 .4-1.8 3.4-4.1 6.6l-4 5.8 7 .3c4.5.2 8.7-.3 11.6-1.3 2.5-.8 6-1.5 7.7-1.5 3.1 0 7.4-2.6 13.3-8.1 4.3-4 11.6-5 14.1-2 2.6 3 4.1 2.6 5.9-1.3 2.3-4.8 8.8-8.9 15.5-9.7 5-.6 6.1-.3 12.1 2.9 4.7 2.5 7.1 4.6 8.5 7.1 1.8 3.3 2.3 3.6 7.2 3.9 3.7.2 5.2.7 5.2 1.8 0 2.3 5 1.7 8.7-1.2 2.2-1.7 3.3-3.3 3.3-5.2.1-2 1.7-4.1 6.5-8.4 7.1-6.3 11.6-7.7 19.6-6.1l4.4.9-.4 8.5c-.3 8.3-.2 8.5 2.2 9.6 2.5 1.2 2.6 1.1 4.1-4.1 3.4-11.6 6.1-15.7 17.8-27.2 6.2-6.1 12.3-11.7 13.6-12.3 1.9-1 4.3-1 11.4 0l9.1 1.2 3 4.4c1.7 2.4 3.6 4.2 4.2 4 .5-.3 3.6-1.3 6.7-2.3 5.2-1.6 5.8-2.1 6.4-5.1.6-3.1.9-3.3 4.5-3.3 3.2 0 4.1-.4 4.8-2.4 1-2.3 12.2-10.1 21.8-15 3.5-1.7 6.8-4.6 10-8.6 4.3-5.3 5.5-6.3 11.3-8.1 4.7-1.6 10-2.3 19.2-2.6l12.7-.5 11.6 6.3 11.5 6.2v4.5c0 3.3.7 5.4 2.5 7.8 3 4 3.2 8.9.5 12.4-2.4 3-2.5 6.7-.4 9.1 1.5 1.6 2.1 1.5 11-2.8 9.3-4.5 9.6-4.6 20.1-4.7l10.6-.1 4.3-4.5c4.2-4.4 4.3-4.5 11.8-4.8 7.6-.4 7.6-.4 11.6 3.2 2.2 2 4.6 3.6 5.3 3.6 2 0 4.7-3.3 4.7-5.7 0-1.2.6-2.3 1.4-2.6.8-.3 1.6-1.6 1.8-2.9.3-2.1 1-2.4 8-3 8.7-.8 13.8-2.9 13.8-5.7 0-1.3 1-2.2 3.1-2.6 1.7-.4 3.3-1.3 3.5-2 .4-.9 3.1-1.6 7.2-2 9-.9 12.1-2.1 11.5-4.5-.4-1.5.7-2.7 4.4-5 5.5-3.4 8.7-8.9 9.9-17 .8-5.9 5.2-14 8.1-15.1 4.2-1.6 11.1-7.3 12.6-10.6.9-1.7 1.9-7 2.3-11.7l.7-8.6h4.2c3.8 0 7.3 1.9 6 3.2-.7.7-.9 9.7-.2 10.5 2.1 2 13.3-6.6 15.4-11.8 1.8-4.6 4.7-5.2 7.8-1.5 1.6 1.9 3.3 2.5 8.6 2.9l6.6.6 2.5-5.8 2.6-5.9 11 .6 11 .5 4.5-3.5c3.2-2.4 6.5-3.9 10.6-4.7 5.9-1.2 6.1-1.3 7.1-5.1.5-2.2 1.5-5.8 2-8 .9-3.3 1.5-4 3.5-4 3.7 0 6.1-3.1 6.9-8.8.6-4.8.8-5.1 4.9-6.5 4.1-1.4 4.6-1.3 11.7 1.4 6.6 2.6 7.6 2.7 9 1.4 1.1-1 3.8-1.5 7.7-1.5 5 0 7.2-.6 12.8-3.6 3.7-2 7.6-3.4 8.6-3.1 4.6 1.2 8.4-13.4 3.9-14.8-2.5-.8-2.6-3.4-.2-7.4 2.1-3.8 6.8-5.6 10.6-4.1 4.3 1.6 16.5.1 17.7-2.1.6-1.2 2.1-1.9 4-1.9 2.2 0 5.9-1.9 12.4-6.5 8.5-5.9 9.8-6.5 16.1-7.1 6.4-.7 7.3-1.1 12.5-5.6 5.4-4.6 5.8-4.8 11.8-4.8 4.8 0 7.4-.6 11.9-2.9 4.3-2.1 6.4-2.6 8.5-2 1.8.5 3.7.2 5.7-.8 3.4-1.7 3.6-2.1 1.5-3.7-1.3-1-1.3-1.5.4-4.7 2.6-4.9 1.8-8.2-2.5-9.8-4-1.4-4.1-1.9-1.3-5.5 1.9-2.5 2-2.6.2-3.3-2.8-1-3.3-2.4-1.6-4.9 1.2-1.8 2.1-2.2 4.8-1.7 3.1.5 3.6.3 5.1-3 1.5-3.1 2.2-3.5 6.5-4.1 4.7-.6 4.9-.8 4.9-3.8 0-2 .9-3.9 2.6-5.5 2.2-2 2.5-3.1 2.3-7.1-.2-2.6.1-6.2.5-8 .7-3.1 1-3.2 5.7-3.2 4.6 0 5 .2 7.4 4 1.4 2.2 3.2 4 4.1 4 .9 0 3.8 1.8 6.4 4 5.4 4.5 7 4.7 21 2.9 9.7-1.3 13.5-3.8 14.6-9.6.3-1.8 1.6-4 2.7-4.8 3-2.1 9.6-1.9 13.2.5 4 2.6 8.2 2.6 9 0 .7-2.1 5.3-5 7.8-5 3 0 2.8-4.8-.4-10.4l-3-5.5 2.1-2.9c1.9-2.5 3.1-3 8.2-3.6 5.6-.5 6.2-.4 8 1.9 2.2 2.9 5 3.2 6.9.9 2.1-2.6 2.3-22.4.2-24.6-1.4-1.5-1.4-2.4-.4-5.9.7-2.2 1.4-7.4 1.6-11.4.2-4.1.6-7.9.9-8.4.3-.5 2.3-1.2 4.3-1.6 2.1-.3 5.4-1.7 7.4-3 2.4-1.5 4-2 5-1.4 2.5 1.6 2.9 1 2.9-3.9 0-3.7.4-5 2.1-6 1.1-.7 2.7-2.8 3.5-4.7 1.3-3.2 1.2-3.8-1.4-9.2-1.5-3.2-3.5-5.9-4.5-6.1-.9-.2-3.1 1-4.8 2.7-1.7 1.7-3.3 3.1-3.5 3.1-.3 0-3.3-2.1-6.7-4.8-3.4-2.6-7.3-5.4-8.7-6.3-2.1-1.4-2.5-2.5-2.8-8.5-.3-5.3.1-8 1.6-11.6 2.3-5.3 4.8-7 11.2-7.8l4.5-.5.7-5c.5-3.7 1.4-5.4 3.2-6.8 1.5-1 2.6-2.6 2.6-3.5 0-2.3 4.7-7.2 6.8-7.2.9 0 3.2-.9 5.1-2.1 1.9-1.1 6-2.3 9-2.6 3.1-.3 6.3-1.1 7.1-1.9.8-.7 2.7-1.6 4.3-1.9 2-.5 2.7-1.3 2.7-3 0-4.1 1.8-7.2 4.4-7.9 2.2-.5 2.5-1.1 2-3-.7-3.1 1.8-7.9 5.5-10.5 3.9-2.8 6.7-7.6 7.6-12.9l.7-4.2h8.4c5.1 0 8.4-.4 8.4-1s1.1-1.5 2.5-2c2.9-1.1 3.4-4 .7-4-1 0-2.8-.7-4.1-1.6-2-1.4-2.2-2.2-1.6-6 .4-3.1.3-4.4-.6-4.4-.9 0-1-1.7-.6-6.3.6-5.5 1.1-6.6 4.1-9.2 1.9-1.7 3.8-4.4 4.2-6 .4-1.7 1.8-4.4 3.1-6.1 1.2-1.7 2.3-3.6 2.3-4.2 0-1.3-.4-1.4-7.5-1.7-2.7-.2-6.4-.6-8.1-1-2.6-.6-3.3-.3-4.9 2.2z"
	/></svg
>
