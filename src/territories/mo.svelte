<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#mo)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="mo" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					viewBox="0 0 660 440"
					><path fill="#00785E" d="M0 0h660v440H0z" /><path
						fill="#FBD116"
						d="m330 82.958-14.208 43.735 37.203-27.027h-45.99l37.203 27.027z"
					/><g id="a"
						><path
							fill="#FFF"
							d="M330 303.99h-93.937c-1.184-1.2-2.35-2.423-3.488-3.667H330a1.962 1.962 0 0 1 1.306 1.736A1.968 1.968 0 0 1 330 303.99zm0-28.725c.545-1.114 1.607-3.694 1.125-6.921a11.356 11.356 0 0 0-1.125-3.492c-5.271 4.988-15.175 12.981-29.785 17.401a74.286 74.286 0 0 1-21.548 3.173h-57.872a132.363 132.363 0 0 0 5.364 7.333h55.945c18.242.001 34.954-6.58 47.896-17.494zm-100.461-22.637a29.595 29.595 0 0 1-8.887 1.926c13.629 15.415 33.545 25.144 55.723 25.144 21.066 0 40.091-8.775 53.625-22.867a404.194 404.194 0 0 0 4.167-53.998A404.18 404.18 0 0 0 330 140.801c-6.045 5.419-17.371 17.128-22.71 35.079a74.291 74.291 0 0 0-3.072 21.203c0 15.291 4.623 29.506 12.547 41.329-9.731-12.57-15.526-28.338-15.526-45.454 0-11.369 2.558-22.144 7.126-31.783a29.782 29.782 0 0 1-6.904-11.902c-6.121 10.804-9.618 23.284-9.618 36.581 0 16.539 5.409 31.819 14.552 44.172-15.923-16.693-38.377-27.099-63.25-27.099-1.336 0-2.667.034-3.989.093a29.924 29.924 0 0 1 6.188 8.157c24.742.038 47.078 10.377 62.964 26.949-15.171-12.672-34.698-20.303-55.995-20.303-11.902 0-23.25 2.382-33.594 6.696 10.629 28.085 37.78 48.075 69.574 48.075 2.059 0 4.1-.093 6.116-.258a74.7 74.7 0 0 1-13.22 1.174c-20.061 0-38.269-7.956-51.65-20.882zM330 334.01h-48.684c15.067 5.988 31.492 9.281 48.684 9.281a10.003 10.003 0 0 0 1.146-4.542A10.016 10.016 0 0 0 330 334.01zm0-22.458h-85.83a132.307 132.307 0 0 0 7.169 5.729H330c.197-.201 1.167-1.236 1.167-2.865s-.97-2.663-1.167-2.864zm0 11.458h-70.304a131.655 131.655 0 0 0 13.242 7.333H330a6.927 6.927 0 0 0 1.063-3.844A6.902 6.902 0 0 0 330 323.01z"
						/><path
							fill="#FBD116"
							d="m237.639 150.67-13.442 28.839 27.822-15.433-31.575-3.874 23.268 21.699zM260.663 112.27l9.303 30.429 10.362-30.092-26.068 18.254 31.819.552z"
						/></g
					><use xlink:href="#a" transform="matrix(-1 0 0 1 660 0)" /></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M470.3 7.2c-9.3 6.7-10.5 8-15.1 15.8-2.8 4.7-9.7 18.4-15.3 30.5-6.9 14.9-14.1 28.3-22.3 41.7l-12.1 19.6-7.1.7c-6.7.7-7.9.4-24.8-5-17.8-5.7-17.8-5.7-53.3-9.9l-35.5-4.2-25.7 11.8c-14.1 6.4-26 11.9-26.4 12-.4.2 1.2 5.8 3.5 12.5 4 11.2 4.5 12.2 6.5 11.7 1.8-.5 2.3-.1 2.9 2 .5 2.1 1.1 2.6 3.3 2.4 2.1-.2 2.7.2 2.9 2.1.4 2.9-1.4 4.2-4.7 3.4-2.2-.5-2.3-.4-1.7 2.3.4 1.6.9 3 1.1 3.2.2.2 2.1-.6 4.4-1.7 2.2-1.2 4.2-2.1 4.5-2.1.2 0 1 1.7 1.7 3.7 1.1 3.4 1 3.8-1.5 5.9-1.8 1.7-2.6 3.3-2.6 5.7 0 4.4 2.7 12.2 5.8 17 2.3 3.5 2.4 3.8.8 5.5-1.8 2.1-1.2 3.2 1.8 3.2s8.2 13.6 6.2 16c-1.8 2.1-.9 4 2 4 2 0 2.6.8 4 5.6 1.7 5.8 1.2 7.3-2.3 7.4-1.8 0-1.6.8 1.5 6.5 2.5 4.6 3 5 6.9 5.3 3.5.3 4.3.8 5.3 3.3 1.4 3.3 1.1 3.3 6.9 1.5 6-1.7 6.9-4.1 1.3-3.3-3.7.6-5.2-.2-5.2-2.8 0-.5 12.2-4.5 13.7-4.5.7 0 2.1 1.6 3 3.5.9 2 2.2 3.4 2.7 3.2.6-.2 6.8-2.1 13.8-4.3 9.5-2.9 12.8-4.3 12.8-5.5 0-1.5-.6-1.5-6.2-.3-8.1 1.7-7.8 1.7-7.8-.5s-1.6-1.6 37.3-13.3c16.7-5.1 20.7-6.6 20.7-8 0-2.2-1.1-2.2-7.4-.3-6.6 2-6.6 2-6.6-1.9 0-3.4 0-3.4 7-5.1 4.1-1 7-2.2 7-3 0-1-1.8-.8-7.7.6-4.3.9-7.9 1.7-8 1.6 0-.1-.9-3.1-1.8-6.6-1.1-4.4-1.3-6.6-.6-7.1.6-.3 4.2-1.4 8-2.4 6-1.6 9.3-3.8 7.7-5.3-.2-.2-5.9.7-12.7 2-12.1 2.3-12.4 2.4-12.7.5-.2-1.1-.2-2.1 0-2.3.2-.2 3.9-1 8.3-1.7 7.9-1.3 7.9-1.3 8.8-4.9l.8-3.6 10.6-1.8c10.2-1.6 10.6-1.6 12.4.2 1.5 1.5 24.9 73.1 24.9 76.2 0 .6-.8 1.5-1.9 2-1 .6-28.5 9.6-61.1 20.1-32.7 10.5-59.7 19.3-60.2 19.6-.4.3-.8 3.4-.8 6.9v6.4l9.5 6.6 9.4 6.6 15.3-4.9 15.3-4.9 1.3 2.9c.7 1.7 1.8 2.8 2.5 2.5 11.4-4.2 12.6-4.2 14-.2.2.5 3.5 0 7.9-1.2l7.6-2.1 2.8 9.5 2.8 9.4 4.3-.7c3.6-.5 4.2-.4 3.7.9-.3 1-2.7 1.7-7.2 2.2-3.7.4-16.5 2.7-28.6 5.1l-21.9 4.4-3.4-3c-1.8-1.7-4-3-4.8-3-4.3 0-11.7 2.7-15 5.5-3.2 2.6-3.9 3.9-4.5 8.3-.3 2.9-.2 5.3.3 5.5.5.1.5 1.9-.2 4.2-1.6 5.7-1.4 10.2.4 10.9 2.6 1-.8 6.4-4.2 6.8-2.6.3-2.8.7-4.9 12.3-1.3 6.6-2.8 13.6-3.3 15.5-1.6 5.3-1.4 6 1.9 6 1.9 0 3 .5 3 1.4 0 .7.3 2.8.6 4.5.6 2.7.4 3.1-1.4 3.1-2.8 0-4 5.4-1.8 7.9 2.1 2.3 2.1 5.1 0 5.1-1.4 0-1.6.7-1.1 4 .5 4 .5 4-2.9 4-3.7 0-3.5-.4-6.8 14-2.2 9.4-2.2 10 1.5 10 3.1 0 3.2 0 2.5 4.2-.3 2.4-1.6 8.5-2.7 13.5-1.9 8.5-2.3 9.3-4.4 9.3-3.1 0-3.8 1.5-5.9 12-1 4.7-2 9.3-2.2 10.2-.5 1.5.1 1.8 3.7 1.8 4.1 0 4.1 0 3.5 3.1-.3 1.7-.6 3.5-.6 4s-.6.9-1.4.9c-2 0-2.6 2.3-2.6 9.1 0 5.8 0 5.9-2.9 5.9-2.7 0-3 .4-4.1 5-1.4 5.9-.9 7.7 2.2 8.2 3.3.4 3.7 3.8.5 3.8-1.9 0-2.8.8-4 3.7-1.5 3.8-1.5 3.8 1 4.1 1.8.3 2.3.9 2.1 2.5-.3 2.3-1.6 2.5-7.4 1.2l-3.1-.7-1.7 6.6c-.9 3.6-1.6 7-1.6 7.6 0 .5 1.8 1 4 1s4 .5 4 1c0 .6-1.1 3.2-2.4 5.9-1.9 3.6-3.3 5-5.6 5.7-2.2.6-3.6 1.9-4.6 4.2-1.3 3.3-1.3 3.3 1.6 4.4 3.3 1.1 3.5 1.6 1.9 8.8-1.1 5.3-1.9 5.7-6.5 4-1.5-.6-2.9-.9-3.1-.6-.2.2-1.3 4.1-2.4 8.6-2.5 10.4-10.5 25.9-13.4 26-1.3.1-4 2.7-7.5 7.3-37.8 49.9-44.1 58.8-43 60.2 1 1.2.5 2.5-2.6 6.6-3.5 4.8-3.6 5.2-2 6.5 2.6 1.8 1.1 3.6-2 2.4-3-1.2-3-1.2-18.1 18.4-5.9 7.7-14.4 20.4-18.9 28.2l-8.3 14.3 2 2.6c1.5 1.8 1.9 3.3 1.4 5.5-.6 2.7-.2 3.2 5.9 7.2 3.6 2.4 6.6 4.6 6.6 5 0 .4-1.6 3.4-3.6 6.8-1.9 3.3-4 7.4-4.6 9-.7 2.2-1.6 3-3.4 3-3.3 0-5.3 3.9-2.9 5.6 2.4 1.8 1.3 4.3-1.7 3.7-1.9-.4-2.7.1-3.6 2.2-1.7 3.6-1.5 4.5 1 7.2s1.8 2.8-6.4.9l-5.6-1.4-1 4c-1.1 4.4-1.6 4 7.5 6.7 5.5 1.6 5.8 1.9 6.5 5.7l.8 4 9.6 1.6c5.3 1 9.8 1.9 10.1 2.1.2.3-.1 3.4-.8 7l-1.2 6.5-5.1-1.8c-8.6-3-8.6-3-8.6-6.4 0-6-1-7.6-4.5-7.6-5.9 0-9.5 1.1-9.5 3 0 3.4-5.6 3.8-14.9 1-6-1.9-7-2.5-8.6-5.8-1-2-1.9-3.3-2.1-2.7-.2.5-1.5 4.9-2.8 9.7-2.2 8.1-2.3 9.5-1.5 21 1.6 20.9 2.3 23.6 10 39.1 7.1 14.1 13.8 23.6 16.8 23.8.9 0 1.1.3.5.5-1.7.7-.1 6.9 3.7 13.9 2 3.8 5.5 8 9.3 11.3 6.1 5.3 20.1 13.8 27.6 16.8l4 1.6v7.2c0 3.9-.4 7.7-.9 8.5-1.4 2.2.3 6.6 2.7 6.9 2.9.4 6.2-1.5 6.2-3.6 0-.9-.9-3.1-2-4.7-1.2-1.8-2-4.7-2-7.4v-4.3l4.7.7c2.6.4 7.2 1.9 10.3 3.5 5.5 2.8 26.8 8 48 11.7 15.8 2.7 47.7 2.5 71.5-.6 25.3-3.2 41.7-8.7 73.6-24.7 17.8-8.9 26.6-15.6 50.4-38.5 7.2-6.9 14.2-13.2 15.5-13.9 1.3-.7 8.3-2.4 15.4-3.7 7.2-1.3 14.4-3.2 16-4.2 1.7-1 8.9-3.5 15.9-5.5 10.5-3 16.1-3.9 30.1-5.1 9.4-.7 18.2-1.8 19.6-2.3 7.2-2.8 25.4-14.7 40.9-26.8.4-.4-5.2-5.3-6.1-5.4-.4 0-5.7 4.2-11.8 9.3-6.2 5-12.1 10-13.3 10.9-2 1.6-45.5 12.2-70.7 17.3-4.7 1-11.5 2.8-15.1 4.1-8.1 2.9-11.8 3-25 .4-20-4-30.1-7.1-41.1-12.7-9.4-4.7-10.9-5.9-11.6-8.6-1.1-4.3-5.3-7.3-8-5.8-1.9 1-2.9.4-9.2-5.5-13.7-13-27.4-32.7-34.1-49l-2.1-5.3 3.1-4.2c1.6-2.3 2.8-4.5 2.6-5-.3-.4-2.5-2-4.9-3.5l-4.4-2.8-.7-8.8c-.4-4.9-.4-13.4 0-18.9.7-9.4 1.2-11.3 7.9-27.7l7.1-17.6 5.2-1.6c2.8-.8 5.5-1.8 5.8-2.2.4-.3.1-2.4-.6-4.7-1-3.5-1-4.6.6-8.1 1.3-2.9 2.3-3.9 3.4-3.5 2 .8 77.4 43.3 79.6 44.9 1.6 1.1 1.6 1.7.5 5.1-1.2 3.6-1.1 3.9 1.1 5.6 1.3 1 4.3 2.8 6.6 4.1 4.1 2.2 4.2 2.2 9.7.5 5.1-1.6 5.6-2.1 5.6-4.7 0-3.7 1.3-4.4 4.8-2.6 2.7 1.4 3.1 1.3 6-.7 1.8-1.2 3.2-3 3.2-4.1 0-1 1.4-4.2 3-7.1 2.8-4.9 3.7-5.6 10.6-8.5 4.2-1.7 7.7-3 7.9-2.8.1.2.9 2.4 1.8 5 1.4 4.3 1.4 4.8 0 4.8-.8 0-1.3.6-1 1.3.3.6 10.2 25.2 22 54.5 11.9 29.4 21.7 53.6 22 53.8.2.2 12.4-5 27.2-11.6 14.8-6.6 27.4-12 28.1-12 .6 0 1.7.7 2.5 1.6 1.1 1.3-.4 3.2-11 13.8-11.7 11.7-12.1 12.3-10.3 13.9 2.3 2.1 4.6 2.2 6.3.1.8-.9 9.3-9 18.9-17.8l17.5-16.2 29.3-11.7c16-6.4 29.6-11.7 30.1-11.7 1.9 0 4.3 9.1 3.7 14.3-.3 2.9-.3 5.7.1 6.3 1.3 1.8 4.5 2.5 5.9 1.3 2.6-2.1 1.6-7.9-2.7-15.7-2.2-4-3.9-7.5-3.7-7.6.2-.2 14-5.8 30.8-12.6 16.8-6.7 56.4-22.9 88-36l57.5-23.7 35.5-1.7c50.9-2.4 51.2-2.4 50.8-5-.4-2.4 2.7-2.4-52.3.3l-35 1.8-17.3 7.1c-9.5 4-17.6 7.2-18.1 7.2s-1.8-1.2-2.8-2.6l-1.9-2.6L800 767c-5.7 1.7-10.9 3.4-11.6 3.7-.8.3-1.8-1.2-2.7-4.4-1-3.4-2.1-5.2-4-6.1-1.4-.7-2.8-2.4-3.2-4-.3-1.5-5.2-23.6-10.9-49.2-8.4-37.3-10.2-46.9-9.4-49 1-2.4 1.1-2.2 3 3.3 2 5.7 2 5.8 5.2 5.1 6.3-1.5 7-1.2 8.6 3.4 1.5 4.3 1.4 4.4-.9 6.3-6.6 5.4-2.5 24.3 6.7 30.4 3.7 2.4 4 2.5 8.5 1.1 4.2-1.2 4.7-1.2 4.7.1 0 .9-.7 2.1-1.5 2.7-1.2.9-1.3 1.8-.1 6.1 1.3 5 1.3 5 5.3 4.8 4-.1 4-.1 5 4.3 1 4.4 1 4.5-1.8 6-1.6.8-2.9 2-2.9 2.6 0 2.3 3.3 12.8 4 12.8.4 0 2.6-.7 4.9-1.5 4.4-1.5 17.2-1.5 25.8 0l4.2.7 2.7-5.5c2.6-5.3 2.9-5.5 5.7-5 5.4 1.1 2-1.6-7.9-6.2-9.1-4.3-9.3-4.4-12.3-10.4-1.7-3.3-3.1-6.4-3.1-6.9s2.3-1.9 5-3.2c2.8-1.3 5-2.9 5-3.7 0-1.7-.8-1.6-6 .2-5.4 1.9-7 1.9-7 0 0-1.3-3.4-9.1-4.5-10.3-.2-.2-1.3.2-2.5.8-2.1 1.1-2.2 1.1-1.5-2.9.6-3.9.6-4.1-1.9-4.1-1.6 0-2.6-.6-2.6-1.5 0-.8.7-1.5 1.6-1.5 1.8 0 1.7-.5-2.8-12.2-2.3-6.1-3.4-7.7-5.4-8.2-2.3-.6-3.5-3.6-1.3-3.6 2.1 0 .4-4.5-1.8-4.8-3.6-.5-2.7-1.6 3.7-4.7 3.3-1.6 6-3.1 6-3.3 0-.3-2.9-6.1-6.5-12.8-5.9-11.1-6.5-12.9-6.5-18.1 0-3.2.5-7.6 1-9.7 1.2-5.5-.2-7.1-14.7-16.2-6.8-4.2-12.3-8.3-12.3-9 0-.7.5-2.4 1.1-3.8l1.2-2.5 5.1 3.5c2.8 1.9 5.4 3.4 5.8 3.4.9 0 9.8-12.4 9.8-13.7 0-.5-2.2-2.6-5-4.7l-5-3.8 2.2-3.2c15.5-21.8 16.9-23.4 21.1-23.5 1.4-.1 1.6.3.7 1.8-.5 1.1-1 2.4-1 3 0 .9 58.8 31.1 60.4 31.1.5 0 29.2-52.9 30.5-56.3.6-1.5.7-2.7.3-2.7-1.2 0-7.2 5.8-7.2 6.9 0 .6-.9 1.1-2 1.1-1.4 0-3 1.5-4.8 4.6-1.5 2.5-3.5 5.9-4.5 7.5l-1.7 3-7-3.8c-4.2-2.3-7-4.4-7-5.4 0-1.7 6.5-5.4 11.1-6.3 3.7-.8 16.4-10.3 16.4-12.4 0-.9.5-1.6 1.1-1.5.6.1 2.5-3.3 4.3-7.6 3.7-9 3.3-8.7 18.8-13.1 5.9-1.7 13.8-4.4 17.4-6.1 5.6-2.7 7-3.8 8.7-7.4l2-4.2-2-9.4c-1.5-7-32.3-108.2-35.4-116.4-.4-.8 1.2-1.7 4.5-2.5s5.1-1.7 5.1-2.7c0-.8-1.3-6.1-2.9-11.7-5.5-18.8-6.5-29.8-5.1-56.4.7-12.8.9-26 .5-29.3-.5-4.6-.4-6.3.6-6.9 4.3-2.7-.3-38.9-7.3-58-7-18.8-19.7-35-37.7-47.9-11.3-8.1-30.4-16.2-51-21.6-6.9-1.8-25.9-8.3-42.1-14.5-32.1-12.2-34.4-13-37.7-13.5-2.2-.3-97.7-37.5-145.8-56.8-13.7-5.5-30.2-11.5-36.5-13.4-11.4-3.5-11.6-3.5-24.7-2.9-10.7.5-13.7.4-15.5-.8-1.5-.9-6.5-1.7-14.3-2l-12-.7-10.2 7.3zM294.7 852.7c-.4 2.1-.9 6.9-1.3 10.8-.7 6.5-1 7.3-5.4 12-5.2 5.5-6.6 8.5-5.2 11.2.6 1.1.6 4.4 0 8.6-1.1 8.4 0 10.5 7.4 12.7 5.2 1.5 5.3 1.7 5.5 5.5.2 2.2.7 6.3 1.3 9.1.9 4 .8 5.7-.5 8.7-2.2 5.3-2 15.6.5 18.7 1.1 1.4 2 4.1 2 6.2 0 3.4-.4 3.9-4.2 5.6-4.7 2.1-18.8 13.8-18.8 15.5 0 .6.7 1.9 1.7 2.9 1.5 1.7 1.4 1.8-1.7 1.8h-3.3l2.4 2.6c2.3 2.5 2.3 2.6.2 1.5-2.8-1.4-3.3-1.4-3.3.3 0 .7 1 2.1 2.3 2.9 1.5 1.1 1.7 1.6.7 1.6-.8 0-2.4-.6-3.4-1.4-1.9-1.5-3.6-1.2-3.6.6 0 .5 1.5 1.8 3.3 2.9 3.4 2.1 3.3 2.2-2.3 2.4l-3.5.1.3 4.6.4 4.6-12.6 2.7c-11.2 2.5-14.1 2.7-25.9 2.4-12.1-.4-14.4-.8-28.7-5.1-39-11.6-54.2-19-64.3-31.6-5.4-6.7-11.7-16.9-11.7-19 0-2 2.6-1.2 14.7 4.2 8.3 3.8 11.9 6 12.1 7.3 1 5 6.4 7.6 11.7 5.5 1.2-.5 2.8-.3 4 .4 3.5 2.2 10.1 2.6 17.7 1 9.4-2 13.5-5.7 17.9-16.4 5-11.8 6.1-18.8 4.8-28.8-.6-4.7-.8-9.8-.5-11.5 1-5.1 6.7-8.8 20.8-13.4 7.8-2.5 9-3.2 12-7.3 3.7-4.9 7.8-15.7 7.8-20.3 0-2.5.3-2.8 2.5-2.2 2.9.7 3.4-1.2.9-3.1-2.5-1.7-1.1-5.7 3-8.8 2.5-1.9 5.7-3 12.7-4.1 8.5-1.4 26.7-6.1 27.8-7.2 1.5-1.4 2.3.1 1.8 3.3z"
	/></svg
>
