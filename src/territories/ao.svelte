<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#ao)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="ao" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 900 600"
					><path d="M0 0h900v600H0z" /><path fill="#cc092f" d="M0 0h900v300H0z" /><path
						d="M390.858 205.797h36.644l11.112-34.537 11.41 34.537h36.64l-29.433 21.926 11.409 35.135-30.026-21.324-29.731 21.324 11.41-35.135z"
						fill="#ffcb00"
						fill-rule="evenodd"
					/><path
						d="m524.801 394.706-28.827-22.53c29.127-23.724 48.052-60.064 48.052-100.605 0-61.866-44.144-113.824-102.411-126.137l4.504-21.025c8.11 1.803 17.624 5.217 25.432 7.916l7.51-12.608c8.1 3.9 17.118 7.803 24.621 12.608l-5.703 13.518c7.51 4.808 16.575 12.251 21.616 18.112l11.277-8.809c6.008 6.604 13.218 13.507 18.323 20.721l-10.211 10.512c6.594 9.68 9.143 14.135 14.004 25.287l14.327-3.36c2.706 8.408 6.814 18.702 8.32 27.408l-13.566 5.332c1.62 6.766 3.718 18.584 3.583 28.525-.011.598-.056 1.276-.056 1.878l14.167 2.021c-.6 8.712-.897 18.625-2.704 27.333h-14.714c-2.1 9.005-4.81 20.02-8.11 28.425l12.308 7.213c-3.901 7.805-7.8 17.117-12.908 24.626l-13.514-5.703c-5.11 7.505-10.81 14.71-17.118 21.321l8.706 11.41c-2.398 2.1-4.502 4.205-6.908 6.61m-63.362-2.704 21.772 13.12c-2.03 1.857-8.112 5.006-9.724 5.644l3.56 13.666c-8.407 2.708-17.42 6.608-26.724 8.412l-5.405-13.513c-8.71 1.8-17.416 3-26.427 3l-1.807 14.114c-8.406-.598-18.617 0-27.928-2.102v-14.11c-8.411-1.506-16.519-3.606-24.324-6.312l-6.91 12.322c-7.207-3.01-16.816-6.615-24.628-11.416l5.108-13.514c-6.31-3.307-12.015-7.509-17.42-11.72l13.515-17.118c22.226 17.722 50.153 28.228 80.787 28.228 16.221 0 32.132-2.697 46.555-8.7"
						fill="#ffcb00"
						fill-rule="evenodd"
					/><path
						d="M552.192 426.811 408.462 317.43l-1.31 1.866 143.36 109.573-8.509 10.647-139.753-89.64c-37.839-23.726-36.337-42.344-28.528-62.466l6.608-16.217c3.605 21.023 25.223 36.944 47.748 54.658l126.914 97.497zm36.084 32.6a2.23 2.23 0 0 1-2.23-2.238 2.23 2.23 0 0 1 2.23-2.232c1.237 0 2.24 1 2.24 2.232a2.238 2.238 0 0 1-2.24 2.239m-8.59-6.308a2.24 2.24 0 0 1-2.237-2.235 2.236 2.236 0 1 1 2.237 2.235m-8.79-7.006c-1.232 0-2.236-1-2.236-2.231a2.236 2.236 0 0 1 4.47 0c0 1.231-1 2.231-2.234 2.231m29.554 12.4-43.065-33.365-12.514 16.127 37.41 26.235c3.005 2.1 3.3 11.718 14.407 13.222 4.513.596 7.508-2.71 7.508-2.71 4.84-5.892 3.521-14.003-3.746-19.51"
						fill="#ffcb00"
						fill-rule="evenodd"
					/></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M110.1 7.8c-3.9 7.8-4.2 8.1-9.5 10.1-3 1.1-6.6 2.3-8 2.7-1.9.5-3 2-4.8 6.6-2.2 5.7-2.4 5.9-5.3 5.5-1.6-.3-3.7-.8-4.6-1.2-1.4-.5-1.8.4-2.4 5.2-.6 5.5-1 6.2-7.3 12.6-5.5 5.6-6.5 7-5.6 8.5.6.9 4 7.1 7.7 13.8l6.7 12-2.4 6c-2.4 5.9-2.4 6-.8 12.8l1.6 6.8 5.1-.6c2.7-.4 8-.9 11.8-1.3 3.7-.3 6.7-.9 6.7-1.2.1-.3.5-10.5 1-22.6l.9-22-2.5-2-2.6-2.1 5.6-1.7c6.2-2 10.9-6.7 18.9-19.4 4.9-7.7 4.3-7.3 18-9.8l3.8-.7-3.4-4.2c-1.8-2.2-5.4-7-7.9-10.6-4-5.6-5.4-6.8-10-8.5-2.9-1.1-5.6-2.1-6-2.3-.4-.2-2.5 3.3-4.7 7.6zM346.8 113.5c-.3.3-40.7.7-89.9.9-65.1.2-90.6.7-93.9 1.5-3.5 1-6.8 1-14.7 0l-10.1-1.2-9.8 5.3c-12.7 6.9-29.2 12-38.5 12-3.8 0-6.9.2-6.9.5s2 4.1 4.5 8.4c2.5 4.3 5.7 11.2 7 15.2 3.4 9.9 13.1 24.5 23.4 35.1l8.4 8.7 2.8 12.3c2.6 11.6 3.9 14.6 23.2 54.3l20.4 42-5.4 12.5c-5.3 12.3-5.5 12.6-14.8 21.5l-9.5 9v14.1l5.1 4.9c3.1 3.1 6.6 8.1 9.1 13 3.9 7.7 4 8.1 3.4 15.2-.6 6.7-.5 7.5 1.9 11.3 1.5 2.3 5.3 9.7 8.5 16.3 3.3 6.7 8.2 16.4 11 21.5 3 5.6 5 10.6 5 12.5 0 2.8 1.1 4.1 8.6 10.2 4.7 3.8 9 7.5 9.6 8.2.6.8.1 2.6-1.7 5.8-1.5 2.5-2.6 4.7-2.4 4.9.2.1 2.3 1.7 4.7 3.5l4.2 3.3v9.6c-.1 5.4-.9 14-1.9 19.2-1.5 8.1-1.6 12-.9 27l.9 17.5-6 12.6c-3.3 7-9.6 18.1-14.1 24.7l-8.1 12.1-5.7 1.1c-3.1.6-6.4 1.3-7.3 1.6-.9.2-5.2 4.2-9.7 8.8l-8.2 8.4v14.7l-9.9 8.9c-8.2 7.3-10.1 9.6-11 13-.9 3.5-1.8 4.5-6.1 6.9l-5 2.7.5 8.8c.3 4.8.8 12.1 1 16.3l.5 7.6-6 9.2-6 9.1-.6 16.3-.6 16.2-7.4 26.5c-4.1 14.6-10.2 35.5-13.6 46.5l-6 20.1-5.2 2c-3.1 1.3-5 2.6-4.9 3.5.1.8 2.3 15.4 4.7 32.5l4.6 31.1-1.6 19.7c-.8 10.9-1.4 20.8-1.2 22.1.3 2.3.6 2.2 9.5-3.5 5.1-3.3 9.8-6 10.3-6 .6 0 4.1 2 7.8 4.5l6.8 4.5 4.6-1.6c4.4-1.4 4.9-1.4 8.5.4l3.8 2 9-4.5c4.9-2.5 12-6.7 15.6-9.3 5.8-4.2 7.8-5 17.3-7.1 9.5-2 11.6-2.1 17.3-1.2 5.9 1.1 7.2 1.7 11.7 6.1 2.8 2.7 9.6 7.5 15.1 10.7 7.2 4.1 11.7 7.5 16.2 12.3l6.1 6.6 5.9-1.3c3.2-.8 8.1-2.4 10.8-3.6l5.1-2.2 145.9-1.2c124.7-1.1 146-1.1 146.9.1.6.8 6.6 7.7 13.3 15.4l12.2 14.1 7 1.3c7 1.3 7.1 1.3 14.4-1.8l7.4-3.1 12.9 3.4c7.1 1.9 14.9 3.5 17.4 3.5 4 0 4.8.4 6.3 3l1.8 3 5.3-4 5.3-4 7.1 3.1 7.2 3.2 7.7-1.6 7.8-1.6 18.2 6 18.1 6 9.5-4 9.5-3.9 10.6 3.4c5.8 1.9 11.3 3.4 12.3 3.4 2.9 0 141.6-22 143.6-22.8 1.5-.6-.7-2.2-9.7-7.1-11.4-6.4-11.6-6.5-16.8-14.5-3.9-6.1-12.4-15.3-35-38.1l-29.8-30-3-9-3.1-9 .7-121.3.7-121.2h2.6c1.4 0 33.4.9 71.1 2 37.7 1.1 69.8 2 71.3 2 2.8 0 2.8 0-2.7-6.3l-5.6-6.2v-15.7l5.3-6.1c8.4-9.9 8-8.6 6.3-16.3-1.8-8.4-2.7-20.7-2.7-37.9-.1-13-.1-13 4.1-23.5l4.2-10.5-2.3-4.5c-2-3.9-2.4-6.5-2.9-18.5l-.5-14-3.3 6.2c-1.8 3.5-3.5 6.3-3.9 6.3-.4 0-8.1-2.1-17-4.6l-16.3-4.7-5.5 4.2c-6.8 5.2-8.7 5.8-19.5 6.5-6.5.5-9.6.2-13.1-1.1-4.5-1.6-4.8-1.5-7.6.5l-3 2.1-9.2-2.4c-5.1-1.4-9.4-2.5-9.5-2.5-.2 0-.6 1.3-.9 2.8-.5 2.5-1.6 3.3-8.7 6-4.5 1.8-8.5 3.2-9.1 3.2-.5 0-.9-2.9-.9-6.5s-.9-9.9-2.1-14.1c-1.1-4.1-1.9-7.7-1.7-7.9.1-.1 2.2-1.2 4.4-2.3l4.1-2.1-.5-9.6c-.3-5.6 0-11.8.7-15.3 1.2-5.6 1.2-5.9-4.3-22.8l-5.6-17.2-9.3-8.5-9.4-8.6-4.7-12.4-4.8-12.4 3.6-7.1c3.4-6.7 3.5-7.4 2.5-11.4-1-3.8-.7-6.7 3.2-25.4l4.5-21-3.3-16.4c-3.1-15.7-3.5-16.6-7-20.2l-3.6-3.7.6-8.6c.5-7.4 1.1-9.5 4.8-16.6l4.3-8.2-2-9.6-1.9-9.6-47.1.3-47.1.3-.7-7.8c-.6-7-.4-8.4 1.7-13.3 4.7-10.7 5.3-9.9-6.5-9.3-9.4.5-10.5.7-12.1 2.9l-1.9 2.4h-28.4c-15.6 0-28.4.2-28.4.5 0 .2.9 1.9 1.9 3.6l2 3.2-3 4.1-2.9 4.2.9 10.4.8 10.5-2.8 4.2c-2 2.9-3.9 4.3-6.1 4.8-4.9 1.1-4.9 1.2-1.6 6.6l3.2 5-3.6 6.7c-2.8 5.2-3.5 7.5-3.1 10.1l.6 3.4-21.4-.6c-22.9-.7-21.9-.5-25.4-6.1-1.6-2.6-15.2-1.1-18.1 2.1-1.9 2.1-3 2.3-11 2.3-8.7 0-9 .1-14.9 4l-6 4h-39.2l-9.3-15.8c-5.3-8.8-13.5-20.9-19-27.7-5.3-6.6-11.8-15.1-14.3-19l-4.7-7v-19.6l-9.9-19-9.9-18.9 2.1-8.1 2-8.1-4.7-4c-4.6-3.9-4.6-4-4.6-10.2v-6.3l-6.7-.6c-8.1-.8-54.7-.9-55.5-.2z"
	/></svg
>
