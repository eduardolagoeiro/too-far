<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#ki)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="ki" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					viewBox="0 0 600 300"
					><defs
						><style>
							.str1 {
								stroke: #000;
								stroke-width: 0.46;
								stroke-miterlimit: 22.9256;
							}
							.fil3 {
								fill: none;
							}
						</style></defs
					><path fill="#c81010" d="M0 0h600v162H0z" /><g id="bird"
						><path
							id="bird_outline"
							class="str1"
							d="M305.75 27.34c-19.08-7.89-30.76-9.34-43.81-9.47-18.9.13-27.92 8.25-45.94 9 7.14 7.69 33.02 9.57 43.93-.53 16.22 1.69 19.9 6.07 24.25 11.52-6.77-1.07-14.57-3.02-21.04 4.14-5.46 1.1-7.99 0-17.33 0-4.36 0-5.87 2.14-5.81 6 2.82-3.9 22.31-1.6 27.09 0 3.67 1.23 7.57 6.32 12.22 7.15 12.19 2.17 29.68-4.2 45.81-8.54L360 42h-23.93L366 36h-32.54c-.69-.79-2.34-1.81-3.66-2.68 8.37-5.39 15.77-15.19 17.66-19.92 15.09-.15 24.83-1.55 36.54-4.29-77.18-8.54-59.61.67-78.25 18.23z"
							fill="#f8d000"
						/><path
							id="eye"
							d="M270.06 39.89c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.82 0-1.5-.67-1.5-1.5s.68-1.5 1.5-1.5z"
							fill="#000"
						/><path
							id="eye_outline"
							d="M270.06 39.89c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.82 0-1.5-.67-1.5-1.5s.68-1.5 1.5-1.5z"
							fill="none"
							fill-rule="nonzero"
							stroke="#000"
							stroke-width=".15"
							stroke-miterlimit="22.926"
						/><path
							class="fil3 str1"
							d="M290.13 38.29S283.86 42 279.7 42m45.42 4.61S330.85 42 336.07 42M233.82 24.6s4.66-2.44 6.86-3.09m12.45-.39s7.39-3.19 15.62-3.03m4.36 3.81s9.69-1.63 18.64.36m-7.5 1.98s8.04-1.35 15.75.83m-7.48 1.62s8.19.11 12.26 1.69M216 26.87s11.49 3.14 20.83-1.35m-19.37 2.71s14.92 3.68 21.74-3.15m-16.74 5.73s11.24 3.62 20.08-5.72m-9.64 7.99s9.08-2.6 12.52-7.95m-5.42 8.1s6.09-4.22 8.28-7.98m70.18 3.22s2.38 2.99 11.34 4.85m-9.76-6.26s3.85 3.85 11.87 4.79m-9.93-6.6s3.91 3.36 12.42 4.61m-10.49-6.54s5.98 3.99 12.79 4.45m-10.43-6.97s4.19 3.91 12.5 4.88m-10.74-6.89s4.91 4.22 12.63 4.8m-10.9-6.9s3.01 3.48 12.94 4.39m-11.18-6.66s3.35 3.68 12.78 4.48m-11.41-6.35s5.9 4.45 12.73 4.36m-11.56-6.06s7.8 4.68 12.45 4.53m-11.03-6.69s6.2 3.86 11.98 4.71m-38.62 16.98s2.5 1.89 4.84 1.81m-3.4-3.21s2.17 1.85 5.15 1.84m-3.4-3.56s2.46 2.3 5.41 1.88m-3.75-3.54s2.94 2 5.57 1.94m-3.73-3.83s2.18 1.89 5.63 2.07m-3.99-4.15s2.56 2.27 5.82 2.35m-4.09-3.85s2.48 1.59 5.99 1.89m-4.42-3.64s3.35 1.18 6.42 1.47m-4.61-3.61s2.31 1.62 6.41 1.52m-4.78-3.66s2.74 1.82 6.26 1.86m-5.06-3.89s3.68 2.06 6.85 1.6m-5.51-4.03s2.33 2.55 6.67 2.46m-5.73-3.56s4.18 2.35 7.01 1.75m-5.24-3.08s3.17 1.93 6.07 1.85m-2.85-2.82s5.65 2.88 13.29-.24m-8.48 2.29s11.42 2.62 16.37-1.96m-7.41 2.64s7.85.82 16.63-1.96m-11.41 2.01s11.92 2.4 32.63.09M243.24 32.96s5.33-3.51 7.54-7.55m-3.55 6.9s4.29-4.16 5.54-6.74m-1.58 5.67s3.53-3.17 4.31-5.39m-21.55-.19s7.66-1.67 25.98.68m-18.9-3.74s6.42-3.11 12.14-4.06m-5.76 2.77s4.69-2.21 11.61-3.31m-.95 2.89s6.49-2.77 14.43-2.51m-6.22 2.56s8.9-1.99 17.1-.87m6.73 5.22s6.79-.31 14.6 1.63m-26.21-4.36s9.73-.52 16.4.71m43.77-14.7s3.36 2.91 12.72 4.76m-7.44-4.29s5.26 2.99 13.56 4.03m-8.04-3.99s7.38 3.21 15.18 3.41m-7.01-2.71s7.52 1.81 16.84 1.32m-112.07 9.68s5.1-2.1 14.14-1.93m19.49 9.57s3.06-.37 6.86 1.44"
						/><path
							class="fil3 str1"
							d="M284.18 37.86c2.11.33 4.12.58 5.95.43 7.16-3.91 12.05-7.58 15.62-10.95"
						/></g
					><g fill="#f8d000" stroke="#000" stroke-width=".46" stroke-miterlimit="22.926"
						><g id="rays_6"
							><g id="rays_2" transform="rotate(-84.706 300 156)"
								><path
									id="wavy"
									d="M290.63 105.87A50 50 0 0 1 300 66a50 50 0 0 0 9.37 39.87"
									transform="rotate(13.4 300 156)"
								/><path id="straight" d="M290.63 105.87 300 63l9.37 42.87" /></g
							><use xlink:href="#rays_2" transform="rotate(21.18 300 156)" /><use
								xlink:href="#rays_2"
								transform="rotate(42.35 300 156)"
							/></g
						><use xlink:href="#rays_6" transform="rotate(63.53 300 156)" /><use
							xlink:href="#rays_6"
							transform="rotate(127.06 300 156)"
						/><circle cx="300" cy="156" r="51" /></g
					><path fill="#183070" d="M0 162h600v138H0z" /><path
						d="M-36 168q30-12 60 0t60 0 60 0 60 0q30-12 63 0t66 0q33-12 63 0t60 0 60 0 60 0 60 0"
						fill="none"
						stroke="#fff"
						stroke-width="24"
						id="wave"
					/><use xlink:href="#wave" y="48" /><use xlink:href="#wave" y="96" /></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M45 86.9c-4.1 2.2-9.9 6.2-12.8 8.8l-5.4 4.8-1 9.5-1 9.5-6.8 7c-4.5 4.6-8.1 9.5-10.6 14.5-3.6 7.2-3.8 8.2-5.5 26.5-1.9 20.2-2.3 47-1 64.7l.8 10.6 10.2 14.1c17.3 24.2 25.6 33.7 33.2 37.9 5.1 2.8 8.9 6.2 16.4 14.7 5.4 6 15 16.5 21.3 23.2L94.4 345h11l11.1.1 14.9-5.8 14.8-5.8 4.1-6c2.2-3.3 6.5-8.8 9.5-12.3 3.9-4.5 6-8 7.3-12.3 2.5-8.1 2.5-8.8-1.6-16.9-2.8-5.6-4.3-7.4-7.5-9-2.8-1.4-4-2.7-4.1-4.3 0-1.2-.4-4.9-.9-8.2-.6-4.8-.4-7.4 1.2-13 3-10.5 9.2-22.1 12.7-24 1.6-.8 5.9-3.7 9.4-6.4l6.5-5 2 4.9 2 4.8 8.6.7 8.5.7 4.4 4.7c2.3 2.5 5.5 6.2 7 8.2 1.4 1.9 3.8 4.2 5.2 4.9 1.9 1 3 3.1 4.6 8.4 1.6 5.6 3 8.1 6.7 11.8l4.6 4.8h8.9c6.8 0 9.7.4 12.7 2 3.5 1.8 4 2.5 4 5.5v3.5h5.3c6.2 0 9.7 2.1 18.4 11.1 3.9 4.1 6 7.5 8.7 14.3l3.6 9v56.3l4.8 1.8c2.6 1 7.3 3.1 10.5 4.7l5.8 2.9 3.3-2.8c2.3-2.1 5.4-3.3 11.6-4.7 9-1.9 13-4.4 13-8 0-2.1 10.5-11.7 13.5-12.4 3.3-.8 5.3 1.7 6 7.3.6 4.8 1.1 5.7 4 7.5 2.7 1.7 5 2 14.7 2h11.4l7.4 5.5 7.4 5.5h19.5l3.6 11.7c2 6.5 3.7 12.2 3.9 12.7.1.5 3.5 2.1 7.6 3.7 9.2 3.4 19.6 3.8 31.2 1l7.7-1.8 19.3 3.8 19.2 3.9 13 9.9c11.3 8.5 14.4 10.3 22.6 13.1 8.4 2.9 10.3 4 16 9.5 4.1 3.9 8.5 7 12 8.5 12.7 5.2 33.6 16.6 42.4 23.1 8.6 6.3 9.8 6.9 14.3 6.9h4.9l3.7 8.7c3.4 7.9 4.5 9.4 10.7 14.6l6.8 5.7 8-3.5c4.4-1.9 8.3-3.5 8.6-3.5.4 0 1.6 2.1 2.7 4.6 1 2.6 5.3 8.4 9.4 12.9 7.3 8 7.5 8.4 7.5 13.4v5.3l3.4-2.1c2.1-1.3 5-2.1 7.8-2.1 4.1 0 5.2.6 13.9 8 5.2 4.4 12.6 10.9 16.4 14.4 3.9 3.5 9.7 7.7 13 9.4 6.6 3.4 10.5 8.2 14.5 18.4 2 4.9 2.8 5.8 5.4 6.4 6.4 1.3 15 7.2 20.9 14.3 3.2 3.9 6.6 7.2 7.5 7.5 1.3.5 9.4 12 14.1 20.3.4.7 3.4 1.8 6.7 2.4 3.2.6 8.8 2.7 12.3 4.6l6.3 3.6-.6 5.8-.7 5.8 4.8.3c4.7.3 4.8.4 8 6.3 2.2 4.2 5.7 8.2 12 13.8 4.8 4.3 9.1 8.4 9.4 9 .4.7 1 3.5 1.4 6.3l.6 5.1 6.8 1.7 6.8 1.8 4.1 7.1c5.9 10.3 13.5 18.5 31.9 34.7l16.2 14.3 4 11.9c4.3 12.8 4.5 13.1 20.2 30.8 3.6 4.1 10 12.6 14.2 18.9l7.5 11.4-3.7 10.4c-3.4 9.5-4.2 10.8-8.5 14.2-2.6 2.1-7.8 7.3-11.5 11.6-3.8 4.3-10.3 10.8-14.6 14.5l-7.7 6.7-7.5-2.9c-8.8-3.3-18.6-11.1-27.3-21.4-5.8-6.9-28.8-27.3-34.3-30.3-1.8-1-7.6-4.2-13-7.2-9.4-5-10-5.6-12.8-11.1-2-3.9-3.9-6.3-6.2-7.4-9.9-5-20.8-12.8-24.5-17.7-2.3-2.8-7.4-8.4-11.4-12.3-6.9-6.8-7.7-7.3-14.8-8.9-8.1-2-15.4-6.6-24-15.4-2.5-2.5-8.1-7.5-12.5-11.1l-7.9-6.4-18.1-3.8c-9.9-2-18.1-3.8-18.2-3.8-.1 0-3.3-4.4-7-9.8-5.6-8.1-7.2-11.2-8.6-17.4l-1.8-7.6-6.9-4.7c-6-4.1-7.7-4.8-14.2-5.6-4-.4-11.8-.9-17.3-.9l-10-.1-16.4-12.7-16.4-12.7-3.5-8.4c-3.6-8.3-3.7-8.4-12.2-14.1-6.4-4.3-12.2-7-22.9-10.9l-14.3-5.1-13.1-.1c-21.3-.1-29.1-1.1-40.8-5.3-10.2-3.6-10.5-3.9-16.1-10.5-5.4-6.4-5.8-7.3-5.8-11.9 0-4.6-.3-5.3-4.3-8.9-2.4-2.2-6.1-4.6-8.3-5.3-2.1-.7-5.4-2.3-7.2-3.5-2.9-2-3.8-2.1-8.2-1.2-4.7.9-5.3 1.4-11.7 9.7-6.2 8-7.5 9.1-14.3 12.4l-7.5 3.5-25.5.6c-14 .4-27.7.7-30.5.7-2.7.1-10.2-.2-16.5-.7l-11.5-.8-6.1 3.1c-5.1 2.6-8 3.2-18 4.2l-11.9 1.1-4.7 4.6c-4.2 4.2-4.7 5.1-5.3 10.7-1 9.6-1 9.6-5.2 8.4-2-.5-7.3-3.5-11.9-6.5-8.3-5.5-8.4-5.7-8.4-9.7 0-3.2.8-5.1 3.5-8.5 1.9-2.4 3.5-4.6 3.5-4.8 0-.2-1.3-3-3-6.3-3.4-6.6-5-7.4-15-6.8l-5.4.3-.9 4.2c-.4 2.4-1.5 4.4-2.5 4.8-.9.4-10 1-20.3 1.3l-18.5.5-1.9-2.9c-1-1.6-6.2-7.4-11.5-12.9s-11.3-12.8-13.3-16.3c-3.4-5.8-3.7-7-3.7-14 0-7.5-.2-8-4.6-15.1-2.5-4.1-7.4-11.1-10.8-15.7-3.4-4.5-7.3-11-8.7-14.4-2-5.3-3.6-7.3-10.4-13.4-13.7-12.1-14.8-13.9-19.4-32.4-3.4-13.2-4.1-17.8-4.1-25.6V430l10.7-21.4 10.7-21.4 5.8-2.8 5.8-2.8v-5.9c0-5.3-1.9-10.7-5.5-15.5-.1-.1-2.8-.7-5.9-1.3l-5.8-1-9.1 5.9c-13 8.5-17.4 9.7-31.7 8.5l-11.5-1-7 3.2c-8.4 3.9-18.6 13.7-24.3 23.4-3.7 6.3-3.7 6.4-13.1 10.1l-9.4 3.7-3.8 7.4-3.8 7.4v17l-.1 17 6.8 8.6c4.4 5.7 10.5 11.8 17.7 17.6 6.1 5 18.2 16.7 27 26.1l16 17.1 13.3 25.8 13.4 25.8 22.1 16.3c21.5 15.8 22.4 16.6 26.9 24l4.8 7.7 51.2 14.7 51.3 14.7 26.5 3.5c25.4 3.5 27.8 3.6 56 3.6 35.1 0 65.7-1.4 83.3-3.9l12.8-1.7 11.7 8.5c6.4 4.6 15 11.1 19.1 14.3 4.1 3.2 8.4 6.1 9.5 6.3 1.2.3 8.2 1.6 15.6 3 10.3 1.9 24.4 6.1 59 17.6l45.5 15.1 44 21.5c24.2 11.8 63 31.3 86.2 43.4l42.2 22.1 28.3 25.1c15.6 13.9 42 36.4 58.7 50.1 25.9 21.1 33.3 26.6 50.4 37.2 11 6.8 21.4 12.6 23.1 12.8 1.7.3 12.7 1.2 24.5 2.1l21.4 1.7 12.3-4.8 12.4-4.7v-8.2c0-5.6.6-10 2.1-14.3l2.1-6.3-2-5.7c-1.7-4.6-2.2-9.1-2.6-23.3l-.5-17.6-9.1-23.3c-7.5-19.2-13.4-31.7-32.5-68.9-39.2-76.3-30.8-63.7-69-104.2-28.4-30.2-38.8-40.4-75.2-73.5-24.9-22.6-59-52.3-83-72.2l-40.8-33.8L667 454l-42.5-26.4-95-48.9c-74-38.1-103.9-54.1-135-72.2-22-12.7-47.9-27.6-57.5-33.1-14.6-8.2-23.4-14.3-52.5-36.3-19.2-14.6-42-32.6-50.5-40-39.3-34.5-47.9-40.8-80-59.3-12.6-7.3-44.7-29.9-46.4-32.7-.3-.4-7.7-3.8-16.5-7.6-14.2-6.2-16.1-7.2-16.6-9.6-.8-3.5-2.2-4-13-4.5-8.9-.4-9.1-.4-16.5 3.5z"
	/></svg
>
