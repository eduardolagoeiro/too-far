<script>
	import { draw } from 'svelte/transition';
	import { linear } from 'svelte/easing';
	import { expand } from '../transitions/expand';

	export let style;
	export let drawin = { duration: 1000 };
	export let flagexpand = { duration: 400, delay: 1000, easing: linear };
	export let strokeColor = 'black';
	export let fill = 'transparent';
	export let mainColor = 'black';
	export let showFlag = false;
	export let strokeWidth = 5;
	$: pathStyle = `stroke: ${showFlag ? mainColor : strokeColor}; fill: ${
		showFlag ? 'url(#iq)' : fill
	}; stroke-width: ${strokeWidth};`;

	const preserveAspectRatio = 'xMidYMid slice';
</script>

<svg
	{style}
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	width="1365.333"
	height="1365.333"
	viewBox="0 0 1024 1024"
>
	<defs
		><pattern id="iq" patternUnits="userSpaceOnUse" width="100%" height="100%">
			{#key showFlag}
				<svg
					{preserveAspectRatio}
					in:expand={flagexpand}
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 900 600"
					><path d="M0 0h900v600H0z" fill="#ce1126" /><path
						d="M0 200h900v400H0z"
						fill="#fff"
					/><path d="M0 400h900v200H0z" /><g
						transform="translate(-1.009 -.584) scale(2.18978)"
						fill="#007a3d"
						><path
							d="M246.026 120.178c-.558-.295-1.186-.768-1.395-1.054-.314-.438-.132-.456 1.163-.104 2.318.629 3.814.383 5.298-.873l1.308-1.103 1.54.784c.848.428 1.748.725 2.008.656.667-.176 2.05-1.95 2.005-2.564-.054-.759.587-.568.896.264.615 1.631-.281 3.502-1.865 3.918-.773.201-1.488.127-2.659-.281-1.438-.502-1.684-.494-2.405.058-1.618 1.239-3.869 1.355-5.894.299zm5.734-5.242c-.563-.717-1.239-3.424-1.021-4.088.192-.576.391-.691.914-.527.918.287 1.13.92.993 3.064-.107 1.747-.366 2.206-.886 1.551zm-67.516-1.946c-.185 1.311 2.325 4.568 3.458 5.158-.77.345-1.728.188-2.434.576-3.948 3.948-18.367 18.006-21 21.366 7.799.154 16.448-.106 23.761-.44-.007-5.299 5.018-5.572 8.381-7.502 1.73 2.725 6.075 2.516 6.618 6.617 0 4.91.009 12.307.009 17.646h-66.625c-1.172 5.176-5.844 9.125-12.354 7.5 2.014-2.104 5.405-2.827 6.619-5.734 1.024-6.365-2.046-10.296-4.031-13.906 3.284-1.195 3.782-1.494 7.121-3.737-2.344 7.12 6.091 6.338 12.353 6.175.211-2.417.089-5.271-1.766-5.624 2.396-.87 2.794-1.168 6.619-4.412v9.593c14.886 0 30.942-.111 46.139-.111 0-3.002.795-7.824-1.581-7.824-2.269 0-.107 6.173-1.87 6.173h-35.63c0-1.328-.034-4.104-.034-6.104 1.51-1.51 1.331-1.379 11.648-11.697 1.028-1.031 8.266-7.568 14.599-13.713zm89.06-.254c2.487 1.339 4.457 3.191 7.502 3.972-.354 1.261-1.476 1.759-1.77 3.087v26.91c3.402.75 4.118-1.178 5.737-2.205.442 4.307 3.186 8.529 3.088 11.91h-14.559c.002-14.555.002-29.114.002-43.674zm-19.412 14.412s5.296-4.471 5.296-4.643v23.484l3.814-.006c0-8.947-.118-18.022-.118-26.338 1.548-1.549 4.58-3.791 5.338-5.358v42.06c-10.746 0-30.793.012-33.443.012-.493-8.729-.577-17.771 9.6-15.826v-3.563c-.311-.609-.868.147-.998-.645 1.615-1.617 2.163-2.029 6.538-5.852 0 4.612.08 15.5.08 15.5 1.07 0 3.153.004 3.857.004.001.002.036-18.227.036-18.829zm-12.553 18.603c.716 1.075 3.154 1.056 3.04-.755-.411-1.493-3.616-.924-3.04.755z"
						/><circle cx="144.527" cy="161.369" r="2.042" /><path
							d="M207.549 112.779c2.488 1.339 4.457 3.191 7.502 3.971-.353 1.26-1.476 1.76-1.768 3.087v26.911c3.401.749 4.117-1.18 5.736-2.206.441 4.308 3.185 8.528 3.088 11.91h-14.56c.002-14.556.002-29.114.002-43.673z"
						/></g
					></svg
				>
			{/key}
		</pattern></defs
	><path
		fill="url(#flag)"
		in:draw={drawin}
		style={pathStyle}
		d="M412.3 1.2c-1.3.6-2.5 2-2.9 3-.3 1.1-1.8 3.4-3.3 5.1-1.5 1.8-4.7 6.5-7.1 10.4-3.9 6.4-4.9 7.4-8 7.9-1.9.3-5.3 1.2-7.5 2-2.3.8-5.3 1.4-6.8 1.4-2.5 0-2.7.3-2.7 3.7-.1 3.6-1.6 5.4-26.9 31.8l-26.9 28-21.8 4-21.7 4-5.9 10.6-5.8 10.5-2.2 19.5-2.2 19.4 5.6 10.5 5.6 10.5.7 14.8.7 14.8-5.8 8.7c-5.5 8.3-5.7 9-6.1 16.2-.4 5.7-1.3 9.5-4 16l-3.6 8.5 1.1 27.3 1.2 27.4-4.1 5.9c-2.2 3.3-7.6 13.3-12 22.2-4.4 8.9-9.2 17.4-10.7 18.9-2 1.9-181.7 97.2-223.8 118.6l-4.2 2.1 4.5 17.8c2.4 9.8 8.4 33.4 13.3 52.4 5 19.1 9 35.3 9 36.2 0 1-1.5 1.7-4.5 2.1-3.4.6-4.5 1.2-4.5 2.6 0 1.8 3.8 21.2 4.3 21.6.1.1 5.2-.8 11.3-2l11.1-2.3 2.7 5.4c1.4 2.9 2.6 5.7 2.6 6.2s-3.2 3.7-7.1 7c-4.3 3.7-6.5 6.3-5.7 6.6.7.2 29.2 6.5 63.3 13.8l62.1 13.4 50.8 36.6 50.8 36.5 34 16.3 34 16.4 31.2 29.3c26.1 24.7 39.5 36.3 83.6 72.1 41.1 33.5 158.7 128.7 164.7 133.3 1.5 1.2 43.3 5.6 117.8 12.4l62 5.6 4-2c2.2-1.2 6.5-3.2 9.5-4.5 6.8-3 18.7-15.7 24.5-26.2 2.2-3.9 5.2-8.2 6.8-9.7 1.6-1.5 4.3-6.5 6.3-11.3 1.9-4.7 5.4-11.8 7.9-15.7 2.6-4.2 4.5-8.5 4.5-10.1 0-1.6.9-4.1 1.9-5.6 1-1.4 3.4-6.9 5.2-12.1 3.2-9.2 11.1-24.8 13.3-26.2.6-.4 3.3-1.2 6.1-1.9 2.7-.6 6.2-2.2 7.6-3.6 2.6-2.4 2.6-2.4 22.5-2.1l19.9.3 13.7 5.4 13.7 5.4 3.2-2.8c3-2.4 3.9-2.7 9.4-2.3 4.6.3 7.4 1.2 12 3.8 11 6.4 26.4 9.5 34 7 3.4-1.1 3.6-1.3 2.1-2.9-.9-.9-4-2-6.8-2.6l-5.1-1-2.4-7c-1.4-3.9-2.5-9.2-2.5-12 0-4.7-.4-5.3-7.1-12.7-6.1-6.8-7.4-7.8-10.4-7.8-5.3 0-7-1.4-7.8-6.6-1-6.6-1.3-7.2-4.8-7.9-1.8-.4-5.1-1.6-7.4-2.7l-4.3-2v-13.7c0-7.6-.3-22-.7-32.1l-.6-18.3-17.2.5-17.2.5-.7-6c-.3-3.3-.6-15.1-.6-26.2v-20.2l7.5-22.3c4.2-12.3 7.3-23.1 7-24.1-.3-1-2.1-3.1-4-4.8-1.9-1.7-3.5-3.7-3.5-4.5 0-.9-.9-2-2.1-2.6-1.1-.6-3.6-3.7-5.6-6.8-2-3.1-5.1-7.5-7-9.7-1.8-2.2-4.5-5.5-6-7.3-1.6-1.9-4-3.8-5.5-4.4-2.3-.8-2.8-1.6-2.8-4.2 0-1.8.4-3.6.9-4.1.6-.6-1.4-3.9-5.3-8.7-4.6-5.5-6.5-8.7-7-11.7-.7-4.9-5.8-11.1-9-11.1-1.2 0-3.1-.6-4.2-1.4-1.7-1.3-2.1-1.2-3.9.3-1.1 1-4 2.1-6.5 2.4-4.2.5-4.9.2-13.5-5.7-8.7-6.1-17.2-14.2-20.9-19.7-.9-1.5-3-2.9-4.6-3.3-1.7-.3-5.9-3-9.5-6-3.5-3.1-8.4-6.5-10.7-7.7-2.3-1.2-6.7-4-9.6-6.3-2.9-2.2-6.6-5-8.1-6.2-3.6-2.6-15-4.7-26-4.8-10.4-.1-11.8-1.4-8.4-7.6l2.1-4-3.6-3c-2-1.6-4.1-3-4.6-3-.4 0-.3-.7.4-1.5s2.2-1.5 3.5-1.5c1.2 0 3.9-1.5 6-3.4 3.9-3.3 3.9-3.3 2.2-5.9-.9-1.5-1.7-3.8-1.7-5.1 0-1.5-.8-3-1.9-3.5-3.8-2.1-10.1-11.2-10.1-14.6 0-4.1-7.6-13.9-10-12.9-.8.4-3 .9-4.7 1.2-4.1.5-4.5-1.8-.9-5.2 2.4-2.1 2.4-2.4 1.1-6.2-1.2-3.6-1.7-4-5.7-4.5-3.4-.5-4.9-.2-7.1 1.4-3.1 2.1-4.3 1.6-4.9-2.3-.2-1.6-2.1-3.8-5.5-6.4-3.9-2.9-5.3-4.5-5.3-6.4 0-1.4-1.5-4.3-3.4-6.6-1.8-2.3-4.3-6.1-5.6-8.6-4.3-8.5-5.8-10-9.9-10-2.3 0-4.4-.6-5.2-1.6-1.2-1.4-1-1.9 1.3-3.8 1.6-1.3 2.8-3.6 3.3-6.1.9-5.4 2.8-8.6 6.5-11.3 2.5-1.9 3-2.9 2.6-4.7-.3-1.3.1-3.9.9-5.9 1.8-4.2 1.9-6.8.4-11.8-.9-3.4-1.4-3.9-5-4.4-3.4-.6-4.3-1.3-5.9-4.5-2.9-5.6-2.7-9.7.5-10.5 3.3-.8 5.5-5.1 5.5-10.8 0-5.4 1.1-6.3 4.8-3.8 2 1.5 4.4 2 9.6 2l6.8.1-.4-4.8c-.3-3.2-1.7-6.9-4.1-10.7l-3.5-5.8 1.9-3.8c1-2 1.9-4.3 1.9-5 0-.7 1.8-2.1 4-3 3.8-1.6 4-1.8 4-6.2 0-2.5.2-4.6.4-4.6s2.3.7 4.7 1.5c5.7 2.1 6.1 1.5 6.4-9.5 0-4 .7-6.5 2.5-9.2 1.4-2 2.9-3.7 3.3-3.8.4 0 2.5 1.1 4.5 2.5l3.6 2.5 2.6-2.5c1.4-1.4 3.7-2.5 5.1-2.5 5.6 0 6.4-.8 6-5.6-.2-2.5.2-5.1.8-5.7 2.7-2.7-.2-8.7-4.3-8.7-1.4 0-1.7-.5-1.2-2.3.3-1.2.9-4.1 1.2-6.4.6-3.9.4-4.3-2-5.5-1.5-.6-3.7-3-4.8-5.2-1.1-2.3-3.3-5.9-4.8-8.1-1.6-2.4-2.9-5.9-3.2-8.7-.5-4.2-.3-4.7 1.6-5 1.8-.3 2.1-.9 1.8-4.8-.1-2.5 0-5.6.3-6.8.5-2.2.9-2.3 5.5-1.7 4.3.6 5 .4 6-1.4.9-1.7 2-2.1 6.4-2.1 5.7 0 7-.9 10-6.7 2.4-4.7 2.1-8.3-.6-8.3-1.2 0-3.1.9-4.3 2-2.7 2.5-8.7 1.8-10.1-1.3-.5-1.1-2.1-2.9-3.5-4-2.4-1.7-2.8-1.8-6.4-.2-2.2.9-5.1 1.3-6.6 1-1.9-.4-2.8-.1-3.2 1-.4 1-1.7 1.5-3.6 1.3-1.6-.1-3.6.4-4.5 1.1-.9.8-2.6 1-4.5.6-1.7-.3-3.2-.2-3.6.4-.3.6-1.6 1.1-2.9 1.1-1.6 0-2.8-1.2-4.4-4.6-3.2-6.5-7.6-11.7-14.1-16.6l-5.5-4.1-8 1.1c-7.2 1-13.6.8-13.6-.5 0-.2.9-2.1 2-4.3 2.5-4.8 2.5-5.8 0-9-1.4-1.8-2-4.1-2-8 0-5.3-.2-5.6-3.1-6.7-2.7-1.1-2.9-1.4-1.9-3.4.9-1.6.9-3.1.2-5.8-.6-2-1.3-5.1-1.6-6.9-.8-4.5-3.8-8.3-5.7-7.1-1.7 1.1-7.9 1.2-9.5.1-1.4-.8-10.4-14.1-10.4-15.2 0-.4 1.3-2.7 3-5.1 3.7-5.4 3.7-7.8.4-14-2.8-5.1-6.6-7.5-15.2-9.8-3.4-1-4.2-1.6-4.2-3.6 0-1.3 1.1-3.7 2.5-5.3 3.8-4.5 4.6-7.6 2.8-10.2-1.1-1.6-1.4-3.4-.9-6.7.7-5-.9-7.2-4.9-7.3-1.3 0-3-1.6-4.8-4.7-2.4-3.9-2.7-5-1.8-7 .6-1.3 1.1-2.6 1.1-2.8 0-.3-3.8-.5-8.5-.5-7.5 0-9.3.4-14.3 2.9-3.2 1.6-7.5 4.8-9.5 7-3.3 3.6-4.2 4.1-8.2 4.1-4.5 0-4.5 0-4.5 3.4 0 4.9-.9 6.6-3.4 6.6-3.1-.1-4.9-1.8-8.6-8.3-2.9-5.1-3.1-6.1-2.1-8.4.7-1.4 2.3-3.4 3.6-4.5 3-2.3 3.2-6 .9-11.8-1.3-3.3-2.7-4.6-6.7-6.7-4.3-2.2-6-2.5-11.2-2-5.9.4-6.4.7-11 5.6-5.4 5.7-10.8 8.1-14.3 6.2-1.1-.6-5.7-1.1-10.2-1.1-5.5 0-9.1-.5-11.2-1.6-1.8-1-4.5-1.4-6.7-1.1-4.1.5-11.8-2.9-16.4-7.1-2.4-2.3-3.1-2.5-5.7-1.5-2.5 1-3.4.7-6.7-1.7-4.2-3-14.5-5.8-15.1-4-.2.5-1.5 1-2.9 1s-4.7.8-7.3 1.7c-4.6 1.6-5.1 1.6-10.4 0-3.1-1-5.6-2.2-5.6-2.8 0-1.2-4.9-1-7.7.3z"
	/></svg
>
